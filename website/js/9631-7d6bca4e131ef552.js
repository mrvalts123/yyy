"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9631],{53636:function(e,t,n){var r=n(63956),a=n(54423),l=(n(93981),n(87821)),i=n(25546),s=n(29541),o=["currency"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.currency,n=void 0===t||t,r=(0,a.Z)(e,o);return(0,s.jsx)(l.Z,c(c({displayType:"text",prefix:n?"$":""},r),{},{decimalSeparator:i.A5,thousandSeparator:","===i.A5?".":","}))}},29631:function(e,t,n){n.d(t,{Z:function(){return Oe}});var r=n(27195),a=n(97620),l=n(8857),i=n.n(l),s=n(73360),o=n(7761),d=n(93981),c=n(71048),u=n(87821),m=n(40100),x=n(98717),f=n(670),v=n(88680),h=n(12197),p=n(75105),g=n(13838),b=n(13170),w=n(69667),j=n(89388),y=n(25546),k=n(99438),N=n(26260),M=n(3561),C=n(65558),Z=n.n(C),T=n(74518),A=n(45462),P=n(44034),S=n(33130),V=n(89715),I=n(41118),_=n(71932),D=n(88381),F=86400,B=n(29541),O=function(){return(0,B.jsx)("div",{className:"my-5 border-t-[1px] border-black-10 dark:border-white-10"})},q=function(e){var t,n,l=e.dcaClient,s=e.data,c=e.hideButtons,u=(0,v.NL)(),x=(0,f.Os)().publicKey,p=(0,f.Bn)().connection,b=d.useState(!1),w=(0,a.Z)(b,2),j=w[0],k=w[1],N=(0,f.C9)(),M=(0,S.R3)(),C=d.useMemo((function(){return null===s||void 0===s?void 0:s.outRemaining.gt(0)}),[null===s||void 0===s?void 0:s.outRemaining]),Z=d.useCallback((0,r.Z)(i().mark((function e(){var t,n,r,a,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,C&&s&&x){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,l.withdraw({user:x,dca:s.publicKey,outputMint:s.outputToken.address,withdrawOutAmount:null===s||void 0===s?void 0:s.outRemainingInBN});case 5:return t=e.sent,n=t.tx,e.next=9,p.getLatestBlockhash("confirmed");case 9:return r=e.sent,a=r.blockhash,d=r.lastValidBlockHeight,n.recentBlockhash=a,n.lastValidBlockHeight=d,n.feePayer=x,e.next=17,M(n,{blockhash:a,lastValidBlockHeight:d,idl:m.xO,idlProgramId:m.PN["mainnet-beta"]},{errorMessage:o.ag._("Failed to withdraw balances. Please try again."),submittingMessage:o.ag._("Withdrawing balances"),successMessage:o.ag._("Successfully withdrawed {0} {1}",{0:s.outRemaining.toString(),1:s.outputToken.symbol})});case 17:u.invalidateQueries({queryKey:["dca"]}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:return e.prev=23,N(),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[0,20,23,26]])}))),[p,C,s,l,x,M,u,N]),A=d.useCallback((0,r.Z)(i().mark((function e(){var t,n,r,a,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s&&x){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,l.closeDCA({dca:s.publicKey,user:x});case 5:return t=e.sent,n=t.tx,e.next=9,p.getLatestBlockhash("confirmed");case 9:return r=e.sent,a=r.blockhash,d=r.lastValidBlockHeight,n.recentBlockhash=a,n.lastValidBlockHeight=d,n.feePayer=x,e.next=17,M(n,{blockhash:a,lastValidBlockHeight:d,idl:m.xO,idlProgramId:m.PN["mainnet-beta"]},{errorMessage:o.ag._("Failed to close order. Please try again."),submittingMessage:o.ag._("Closing DCA order"),successMessage:o.ag._("Successfully closed order")});case 17:u.invalidateQueries({queryKey:["dca"]}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:return e.prev=23,N(),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[0,20,23,26]])}))),[p,s,l,M,x,u,N]),F=(0,V.b)(null===s||void 0===s?void 0:s.inputToken,null===s||void 0===s?void 0:s.outputToken).baseTokenInfo,q=d.useMemo((function(){var e;if(!I.d.find((function(e){var t,n;return e===(null===s||void 0===s||null===(t=s.inputToken)||void 0===t?void 0:t.address)||e===(null===s||void 0===s||null===(n=s.outputToken)||void 0===n?void 0:n.address)})))return null;var t=(null===s||void 0===s||null===(e=s.inputToken)||void 0===e?void 0:e.address)===(null===F||void 0===F?void 0:F.address);return{isFromBase:Boolean(t)}}),[null===F||void 0===F?void 0:F.address,null===s||void 0===s||null===(t=s.inputToken)||void 0===t?void 0:t.address,null===s||void 0===s||null===(n=s.outputToken)||void 0===n?void 0:n.address]);if(!s)return null;var L=s.inputToken,E=s.outputToken,R=s.warnings,U=R.hasUnknownToken,K=R.tooFarFromExecution,H=R.lessThanDCALimit,W=s.createdAt,Q=s.totalFilled,J=s.cycleFrequency,Y=s.inWithdrawn,z=s.outWithdrawn,G=s.outRemaining,X=s.initialDeposited,$=s.avgPrice,ee=s.inverseAvgPrice,te=s.balance,ne=s.cyclesLeft,re=s.filledPercentage,ae=s.nextCycleAt,le=s.minOutAmount,ie=s.maxOutAmount,se=s.inRemaining,oe=s.isLaunchToken;return(0,B.jsxs)("div",{className:"bg-[#161B27] p-6 text-xs overflow-y-scroll max-h-[460px]",children:[U?(0,B.jsx)("div",{className:"rounded-lg bg-v2-lily/5 p-5 space-y-2  border border-v2-lily/5 mb-2",children:(0,B.jsxs)("div",{className:"text-warning text-xs flex space-x-1",children:[(0,B.jsx)("div",{className:"w-3 h-3 mt-0.5",children:(0,B.jsx)(_.Z,{width:12,height:12})}),(0,B.jsx)("span",{children:o.ag._("One or both tokens in your order can no longer be found on the token list.")})]})}):null,H?(0,B.jsx)("div",{className:"rounded-lg bg-v2-lily/5 p-5 space-y-2  border border-v2-lily/5 mb-2",children:(0,B.jsxs)("div",{className:"text-warning text-xs flex space-x-1",children:[(0,B.jsx)("div",{className:"w-3 h-3 mt-0.5",children:(0,B.jsx)(_.Z,{width:12,height:12})}),(0,B.jsx)("div",{children:o.ag._("Jupiter is not filling this DCA because the value per order is less than {MINIMUM_VALUE_PER_ORDER} USD",{MINIMUM_VALUE_PER_ORDER:.5})})]})}):K&&!oe?(0,B.jsx)("div",{className:"rounded-lg bg-v2-lily/5 p-5 space-y-2  border border-v2-lily/5 mb-2",children:(0,B.jsxs)("div",{className:"text-warning text-xs flex space-x-1",children:[(0,B.jsx)("div",{className:"w-3 h-3 mt-0.5",children:(0,B.jsx)(_.Z,{width:12,height:12})}),(0,B.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,B.jsx)("span",{children:o.ag._("Jupiter tried to execute your order multiple times but could not do so. This can happen when:")}),(0,B.jsxs)("div",{className:"flex space-x-1",children:[(0,B.jsx)("span",{children:o.ag._("-")}),(0,B.jsx)("span",{children:o.ag._("The market no longer exists")})]}),(0,B.jsxs)("div",{className:"flex space-x-1",children:[(0,B.jsx)("span",{children:o.ag._("-")}),(0,B.jsx)("span",{children:o.ag._("The market price is out of the range of your advanced pricing strategy")})]}),(0,B.jsxs)("div",{className:"flex space-x-1",children:[(0,B.jsx)("span",{children:o.ag._("-")}),(0,B.jsx)("span",{children:o.ag._("The market is extremely volatile")})]}),(0,B.jsx)("div",{className:"pt-3",children:(0,B.jsx)("span",{className:"italic",children:o.ag._("Note that this DCA will continue to be attempted and your end date may be extended until your deposited tokens are fully utilized")})})]})]})}):null,(0,B.jsxs)("div",{className:"rounded-lg bg-v2-lily/5 p-5 space-y-2  border border-v2-lily/5",children:[(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-white/50",children:o.ag._("DCA {0} balance",{0:L.symbol})}),(0,B.jsxs)("span",{className:"text-v2-lily/[.75] font-semibold",children:[te.toString()," ",L.symbol]})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-white/50",children:o.ag._("DCA {0} balance",{0:E.symbol})}),(0,B.jsxs)("span",{className:"text-v2-lily/[.75] font-semibold",children:[G.toString()," ",E.symbol]})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-white/50",children:o.ag._("Amount Withdrawn")}),Y?(0,B.jsxs)("div",{className:"flex flex-col",children:[(0,B.jsx)("span",{className:"text-v2-lily/[.75] font-semibold text-right",children:Y?"".concat(Y.toString()," ").concat(L.symbol):null}),(0,B.jsxs)("span",{className:"text-v2-lily/[.75] font-semibold text-right",children:[z.toString()," ",E.symbol]})]}):(0,B.jsxs)("span",{className:"text-v2-lily/[.75] font-semibold text-right",children:[z.toString()," ",E.symbol]})]})]}),(0,B.jsxs)("div",{className:"mt-5 space-y-3 text-v2-lily/30",children:[(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{children:o.ag._("Total Deposited")}),(0,B.jsxs)("span",{children:[h.uf.format(X.toNumber())," ",L.symbol]})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{children:o.ag._("Total Spent")}),(0,B.jsxs)("span",{children:[h.uf.format(Q.toNumber())," ",L.symbol," (",new g.Z(re).mul(100).round().toNumber(),"%)"]})]}),$.isNaN()?null:(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{children:se.eq(0)?o.ag._("Average Price"):o.ag._("Current Average Price")}),(0,B.jsx)("span",{className:"cursor-pointer hover:text-v2-primary",onClick:function(){return k(!j)},children:j?o.ag._("{0}  {1} per {2}",{0:(0,D.M)({value:+ee.toSignificantDigits(6)}),1:E.symbol,2:L.symbol}):o.ag._("{0}  {1} per {2}",{0:(0,D.M)({value:+$.toSignificantDigits(6)}),1:L.symbol,2:E.symbol})})]}),(0,B.jsx)(O,{}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{children:o.ag._("Buying")}),(0,B.jsxs)("div",{className:"flex space-x-1",children:[(0,B.jsx)(T.Z,{info:E,width:16,height:16}),(0,B.jsx)("span",{children:E.symbol})]})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{children:o.ag._("Interval")}),(0,B.jsx)("span",{children:o.ag._("Every {0}(s)",{0:(0,y.FM)(J)})})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{children:o.ag._("# of Orders Left")}),(0,B.jsx)("span",{children:ne.toNumber()})]}),ae?(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{children:o.ag._("Next Order")}),oe?(0,B.jsx)("span",{children:"Start when trading is enabled"}):(0,B.jsx)("span",{children:(0,P.Z)(ae,"y/MM/dd HH:mm")})]}):null,(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{children:o.ag._("Created")}),(0,B.jsx)("span",{children:(0,P.Z)(W,"y/MM/dd HH:mm")})]}),ie?(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsx)("span",{children:o.ag._("Minimum Price")}),(0,B.jsx)("div",{className:"flex items-center h-2",children:"".concat(ie.toFixed(null!==q&&void 0!==q&&q.isFromBase?E.decimals:L.decimals)," ").concat(null!==q&&void 0!==q&&q.isFromBase?E.symbol:L.symbol)})]}):null,le?(0,B.jsxs)("div",{className:"flex items-center justify-between",children:[(0,B.jsx)("span",{children:o.ag._("Maximum Price")}),(0,B.jsx)("div",{className:"flex items-center h-2",children:"".concat(le.toFixed(null!==q&&void 0!==q&&q.isFromBase?E.decimals:L.decimals)," ").concat(null!==q&&void 0!==q&&q.isFromBase?E.symbol:L.symbol)})]}):null]}),c?null:(0,B.jsxs)("div",{className:"mt-6 flex flex-col lg:flex-row w-full space-y-2 lg:space-y-0 lg:space-x-3",children:[C?(0,B.jsx)("button",{onClick:Z,type:"button",className:"w-full px-4 py-1.5 rounded-lg text-sm text-white border border-v2-lily/10 bg-[#121D28] hover:bg-v2-primary/5 hover:bg-gradient-to-r from-[rgba(199,242,132,1))] to-[rgba(0,190,240,1)] dark:hover:border dark:hover:border-v2-primary disabled:opacity-50 disabled:cursor-not-allowed",children:o.ag._("Withdraw balance")}):null,(0,B.jsx)("button",{onClick:A,type:"button",className:"w-full px-4 py-1.5 rounded-lg text-sm text-white border border-v2-lily/10 bg-[#121D28] hover:bg-v2-primary/5 hover:bg-gradient-to-r from-[rgba(199,242,132,1))] to-[rgba(0,190,240,1)] dark:hover:border dark:hover:border-v2-primary",children:s.balance.gt(0)?o.ag._("Close and Withdraw"):o.ag._("Close DCA")})]})]})},L=n(24628),E=function(e){var t=e.fillHistory,n=t.inputMint,r=t.outputMint,a=t.inAmount,l=t.outAmount,i=t.confirmedAt,s=t.txId,o=e.inverseRate,c=e.setInverseRate,u=(0,f.Bn)().getTokenInfo,m=(0,f.oP)().getExplorer,x=d.useMemo((function(){return{fromTokenInfo:u(n.toString()),toTokenInfo:u(r.toString())}}),[u,n,r]),v=x.fromTokenInfo,h=x.toTokenInfo,p=d.useMemo((function(){return v?new g.Z(a).div(Math.pow(10,v.decimals)).toString():""}),[v,a]),b=d.useMemo((function(){return h?new g.Z(l).div(Math.pow(10,h.decimals)).toString():""}),[h,l]),w=d.useMemo((function(){return(0,P.Z)(i,"y/MM/dd HH:mm")}),[i]),j=d.useMemo((function(){return m(s)}),[m,s]),k=(0,d.useMemo)((function(){return v&&h?new g.Z(new g.Z(l).div(Math.pow(10,h.decimals))).div(new g.Z(a).div(Math.pow(10,v.decimals))):new g.Z(0)}),[v,a,l,h]);return(0,B.jsxs)("div",{className:"text-xs flex space-x-4 justify-between",children:[(0,B.jsxs)("span",{className:"w-[80px] text-v2-lily/50 flex space-x-1 items-center",children:[(0,B.jsx)("span",{children:(0,y.Om)(p,5)}),(0,B.jsx)(T.Z,{info:v,width:16,height:16})]}),(0,B.jsx)("span",{className:"w-[80px] text-v2-lily/50 flex items-center cursor-pointer hover:text-v2-primary",onClick:function(){return c(!o)},children:k.gt(0)?o?(0,D.M)({value:+new g.Z(1).div(k).toSignificantDigits(6)}):(0,D.M)({value:+k.toSignificantDigits(6)}):"N/A"}),(0,B.jsxs)("span",{className:"w-[100px] flex space-x-1 items-center",children:[(0,B.jsx)("span",{children:(0,D.M)({value:+new g.Z(b).toSignificantDigits(6)})}),(0,B.jsx)(T.Z,{info:h,width:16,height:16})]}),(0,B.jsx)("span",{className:"w-[120px] text-v2-lily/50 flex items-center",children:w}),(0,B.jsx)("div",{className:"w-3 flex items-center",children:(0,B.jsx)("a",{href:j,target:"_blank",rel:"noreferrer",className:"w-3 h-5 text-xs text-v2-lily/50 hover:text-v2-primary",children:(0,B.jsx)(L.Z,{width:12,height:20})})})]})},R=function(e){var t=e.fillHistory,n=d.useState(!0),r=(0,a.Z)(n,2),l=r[0],i=r[1];return(0,B.jsxs)("div",{className:"p-6 bg-[#161B27] min-h-[300px]",children:[(0,B.jsxs)("div",{className:"flex w-full justify-between space-x-4 text-xs text-v2-lily/50",children:[(0,B.jsx)("span",{className:"w-[80px]",children:o.ag._("From")}),(0,B.jsx)("span",{className:"w-[80px]",children:o.ag._("Rate")}),(0,B.jsx)("span",{className:"w-[100px]",children:o.ag._("To")}),(0,B.jsx)("span",{className:"w-[120px]",children:o.ag._("Date/Time")}),(0,B.jsx)("div",{className:"w-3"})]}),(0,B.jsx)("div",{className:"mt-3 space-y-3 max-h-[300px] overflow-y-auto hideScrollbar",children:t&&(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t.map((function(e){return(0,B.jsx)(E,{fillHistory:e,inverseRate:l,setInverseRate:i},e.txId)})):(0,B.jsx)("div",{className:"text-v2-lily/50 mt-4 text-xs flex items-center justify-center",children:o.ag._("No filled trades yet.")})})]})},U=n(45009),K=n(64508),H=n.n(K),W=["JxxWsvm9jHt4ah7DT9NuLyVLYZcZLUdPD93PcPQ71Ka"];var Q=function(e,t){return[e.toBase58(),t.toBase58()].filter((function(e){return W.includes(e)})).length>0},J=function(e){var t=e.data,n=e.dcaClient,l=e.hideButtons,s=d.useState(!1),c=(0,a.Z)(s,2),u=c[0],m=c[1],x=d.useState("Overview"),v=(0,a.Z)(x,2),h=v[0],p=v[1],b=t.inputToken,y=t.outputToken,k=t.netDeposited,N=t.filledPercentage,M=t.isLaunchToken,C=t.warnings,Z=C.tooFarFromExecution,P=C.hasUnknownToken,S=(0,f.Os)().publicKey,V=(0,f.oP)().getExplorer,I=(0,U.a)(["dca-fill-history",null===S||void 0===S?void 0:S.toString(),t.publicKey.toString()],(function(){return S?t.fillHistory&&t.fillHistory.length>0?t.fillHistory:n.getFillHistory(t.publicKey.toString()):[]}),{refetchInterval:3e4}).data,D=(0,U.a)(["missing-signatures",t.publicKey.toString()],(0,r.Z)(i().mark((function e(){var n,r,a,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://dca-api.jup.ag/missing-signatures/".concat(t.publicKey.toString()));case 3:if(!(n=e.sent).ok){e.next=13;break}return e.next=7,n.json();case 7:if(r=e.sent,a=r.data,!(l=a.missingSignatures).length){e.next=13;break}return e.next=13,fetch("https://dca-api.jup.ag/recover-signatures",{method:"POST",body:JSON.stringify({missingSignatures:l})});case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(0);case 17:case"end":return e.stop()}}),e,null,[[0,15]])}))),{enabled:!1}).refetch,F=d.useMemo((function(){return V(t.publicKey.toString(),"account")}),[V,t.publicKey]);return(0,B.jsxs)("div",{className:"bg-dca-item rounded-lg mb-2",children:[(0,B.jsxs)("button",{className:"flex justify-between items-center h-[64px] w-full text-xs px-2 md:px-4",onClick:function(){u||D(),m((function(e){return!e}))},children:[(0,B.jsxs)("div",{className:"text-left basis-2/12 flex items-center space-x-2",children:[!P&&!Z||M?(0,B.jsxs)("div",{className:"flex -space-x-2 cursor-pointer",children:[(0,B.jsx)("div",{className:"w-5 h-5",children:(0,B.jsx)(T.Z,{info:b,height:20,width:20})}),(0,B.jsx)("div",{className:"w-5 h-5",children:(0,B.jsx)(T.Z,{info:y,height:20,width:20})})]}):(0,B.jsx)("div",{className:"text-warning fill-current",children:(0,B.jsx)(_.Z,{height:20,width:20})}),(0,B.jsxs)("div",{className:"flex items-center justify-center space-x-1.5 text-white",children:[(0,B.jsx)("span",{children:b.symbol}),(0,B.jsx)("div",{className:"text-v2-lily/50 fill-current",children:(0,B.jsx)(A.Z,{width:10,height:10})}),(0,B.jsx)("span",{children:y.symbol})]}),(0,B.jsx)(H(),{href:F,target:"_blank",className:"text-v2-lily/50 hover:text-v2-primary",children:(0,B.jsx)(L.Z,{width:12,height:20})})]}),(0,B.jsxs)("div",{className:"text-white/[.75]",children:[k.toString()," ",b.symbol]}),(0,B.jsxs)("div",{className:"flex space-x-4",children:[(0,B.jsx)("div",{className:"bg-dca-fill-bg w-[60px] md:w-[106px] h-2 rounded-xl overflow-hidden",children:(0,B.jsx)("div",{className:"h-full rounded-xl bg-[#19C5E4]",style:{width:new g.Z(N).mul(100).toNumber()+"%"}})}),(0,B.jsx)("div",{className:(0,j.cn)(["text-v2-lily/[.35] fill-current",u?"":"-rotate-90"]),children:(0,B.jsx)(w.Z,{})})]})]}),(0,B.jsxs)("div",{className:(0,j.cn)("bg-dca-item rounded-b-lg overflow-hidden transition-max-height duration-200",u?"animate-fade-in max-h-[546px]":"animate-fade-out max-h-[0px]"),children:[(0,B.jsxs)("div",{className:"flex text-sm space-x-2 px-2 md:space-x-4 md:px-4",children:[(0,B.jsx)("button",{type:"button",onClick:function(){return p("Overview")},className:(0,j.cn)("text-v2-lily/50 p-3 border-b-2 border-transparent","Overview"===h?"font-semibold text-white border-b-v2-primary":""),children:o.ag._("Overview")}),(0,B.jsx)("button",{type:"button",onClick:function(){return p("Orders")},className:(0,j.cn)("text-v2-lily/50 p-3 border-b-2 border-transparent","Orders"===h?"font-semibold text-white border-b-v2-primary":""),children:o.ag._("Orders {0}",{0:null!==I&&void 0!==I&&I.length?"(".concat(null===I||void 0===I?void 0:I.length,")"):""})})]}),"Overview"===h?(0,B.jsx)(q,{dcaClient:n,data:t,hideButtons:l}):null,"Orders"===h?(0,B.jsx)(R,{fillHistory:I}):null]})]})},Y=function(e){var t=e.dca,n=e.dcaClient,r=(0,f.Bn)().getTokenInfo,l=(0,f.y6)().tokenPriceMap,i=d.useMemo((function(){return[r(t.account.inputMint.toString()),r(t.account.outputMint.toString())]}),[t.account.inputMint,t.account.outputMint,r]),s=(0,a.Z)(i,2),c=s[0],u=s[1],m=d.useMemo((function(){var e;return l&&c?null===(e=l[null===c||void 0===c?void 0:c.address])||void 0===e?void 0:e.usd:null}),[l,c]),x=(0,V.b)(c,u).baseTokenInfo,v=d.useMemo((function(){if(!I.d.find((function(e){return e===(null===c||void 0===c?void 0:c.address)||e===(null===u||void 0===u?void 0:u.address)})))return null;var e=(null===c||void 0===c?void 0:c.address)===(null===x||void 0===x?void 0:x.address);return{isFromBase:Boolean(e)}}),[null===x||void 0===x?void 0:x.address,null===c||void 0===c?void 0:c.address,null===u||void 0===u?void 0:u.address]),h=d.useMemo((function(){var e=t.account,n=e.inputMint,a=e.outputMint,l=e.createdAt,i=e.cycleFrequency,s=e.outReceived,d=e.outWithdrawn,c=e.inAmountPerCycle,u=e.inDeposited,x=e.inUsed,f=e.inWithdrawn,h=e.nextCycleAt,p=e.nextCycleAmountLeft,b=e.minOutAmount,w=e.maxOutAmount,j=u.sub(f).sub(x),y=r(n.toString()),k=r(a.toString()),N=y?new g.Z(x.toString()).div(Math.pow(10,y.decimals)).toFixed(y.decimals):new g.Z(0),M=k?new g.Z(s.toString()).div(Math.pow(10,k.decimals)).toFixed(k.decimals):new g.Z(0),C=new g.Z(N).div(new g.Z(M)),T=new g.Z(M).div(new g.Z(N)),A=j.div(c),P=r(n.toString()),S=null!==P&&void 0!==P?P:{address:n.toString(),decimals:0,name:o.ag._("Unknown"),chainId:101,symbol:o.ag._("Unknown")},V=r(a.toString()),I=null!==V&&void 0!==V?V:{address:a.toString(),decimals:0,name:o.ag._("Unknown"),chainId:101,symbol:o.ag._("Unknown")},_=new g.Z(h.toString()).add(3600).lte(Date.now()/1e3),D=new Date(1e3*h.add(A.sub(new(Z())(1)).mul(i)).toNumber());g.Z.set({rounding:g.Z.ROUND_DOWN});var F=new g.Z(u.div(c).toString()).round(),B=m&&y?new g.Z(u.toString()).div(F).mul(m).div(new g.Z(10).pow(y.decimals)):void 0,O=!!B&&B<new g.Z(.5),q=new g.Z(u.toString()).minus(new g.Z(f.toString())).div(new g.Z(10).pow(S.decimals)),L=new g.Z(x.toString()).div(new g.Z(10).pow(S.decimals)),E=Q(n,a)&&(null===h||void 0===h?void 0:h.toString())===l.toString();return{publicKey:t.publicKey,inputToken:S,outputToken:I,isLaunchToken:E,warnings:{hasUnknownToken:!P||!V,tooFarFromExecution:_,lessThanDCALimit:O},createdAt:new Date(1e3*l.toNumber()),cycleFrequency:i.toNumber(),balance:new g.Z(j.toString()).div(new g.Z(10).pow(S.decimals)),initialDeposited:new g.Z(u.toString()).div(Math.pow(10,S.decimals)),netDeposited:q,totalFilled:L,outReceived:new g.Z(s.toString()).div(new g.Z(10).pow(I.decimals)),outRemainingInBN:s.sub(d),outRemaining:new g.Z(s.sub(d).toString()).div(new g.Z(10).pow(I.decimals)),outWithdrawn:new g.Z(d.toString()).div(new g.Z(10).pow(I.decimals)),inRemaining:new g.Z(u.sub(x).sub(f).toString()).div(new g.Z(10).toPower(S.decimals)),avgPrice:C,inverseAvgPrice:T,filledPercentage:L.div(q),status:L.eq(q)?o.ag._("Completed"):o.ag._("Ongoing"),endAt:D,cyclesLeft:A,nextCycleAt:new Date(1e3*h.toNumber()),adjustedNextCycleAmountLeft:h?new g.Z(p.toString()).div(new g.Z(10).pow(S.decimals)):null,minOutAmount:function(){var e;if(null!==v&&void 0!==v&&v.isFromBase){if(!w||w.eqn(0))return null;var t=new g.Z(c.toString()).div(Math.pow(10,(null===y||void 0===y?void 0:y.decimals)||0));return new g.Z(w.toString()).div(Math.pow(10,(null===k||void 0===k?void 0:k.decimals)||0)).div(t)}if(!b||b.eqn(0))return null;var n=new g.Z(c.toString()).div(Math.pow(10,null!==(e=null===y||void 0===y?void 0:y.decimals)&&void 0!==e?e:0)),r=new g.Z(b.toString()).div(Math.pow(10,(null===k||void 0===k?void 0:k.decimals)||0));return n.div(r)}(),maxOutAmount:function(){if(null!==v&&void 0!==v&&v.isFromBase){if(!b||b.eqn(0))return null;var e=new g.Z(c.toString()).div(Math.pow(10,(null===y||void 0===y?void 0:y.decimals)||0));return new g.Z(b.toString()).div(Math.pow(10,(null===k||void 0===k?void 0:k.decimals)||0)).div(e)}if(!w||w.eqn(0))return null;var t=new g.Z(c.toString()).div(Math.pow(10,(null===y||void 0===y?void 0:y.decimals)||0)),n=new g.Z(w.toString()).div(Math.pow(10,(null===k||void 0===k?void 0:k.decimals)||0));return t.div(n)}()}}),[t.account,t.publicKey,r,null===v||void 0===v?void 0:v.isFromBase,m]);return h?(0,B.jsx)(J,{data:h,dcaClient:n}):null},z=function(e){return e instanceof p.PublicKey?e:e?new p.PublicKey(e):void 0},G=function(e){var t=e.dcaClient,n=e.inputMint,r=e.outputMint,a=(0,f.Os)(),l=(0,v.aM)(["dca",a.publicKey],(function(){if(a.publicKey)return t.getCurrentByUser(a.publicKey,z(n),z(r)).then((function(e){return e.sort((function(e,t){return t.account.createdAt.cmp(e.account.createdAt)}))}))}),{enabled:Boolean(a.publicKey),refetchInterval:1e4}).data;return(0,B.jsxs)(B.Fragment,{children:[l&&l.length>0?(0,B.jsx)("div",{className:"mt-3 w-full border-white/5 overflow-x-auto hideScrollbar",children:l&&(null===l||void 0===l?void 0:l.map((function(e){return(0,B.jsx)(Y,{dca:e,dcaClient:t},e.publicKey.toString())})))}):null,0===(null===l||void 0===l?void 0:l.length)?(0,B.jsx)("div",{className:"mt-3 bg-v2-lily/5 border border-v2-lily/10 rounded-lg text-white/20 text-sm h-full w-full flex items-center justify-center min-h-[180px]",children:(0,B.jsx)("span",{children:o.ag._("You have no active orders")})}):null]})},X=function(e){var t=e.dcaClient,n=e.inputMint,r=e.outputMint,a=(0,f.Os)(),l=(0,f.Bn)().getTokenInfo,i=(0,v.aM)(["dcaclosed",a.publicKey],(function(){return a.publicKey?t.getClosedByUser(a.publicKey,void 0,void 0,z(n),z(r)).then((function(e){return e.sort((function(e,t){return t.account.createdAt.cmp(e.account.createdAt)})).map((function(e){var t=e.account,n=t.inputMint,r=t.outputMint,a=t.createdAt,i=t.cycleFrequency,s=t.inAmountPerCycle,o=t.inDeposited,d=t.updatedAt,c=t.inFilled,u=t.outReceived,m=t.inWithdrawn,x=l(n.toString()),f=l(r.toString());if(!x||!f)return null;var v=new g.Z(o.toString()).div(Math.pow(10,x.decimals)),h=new g.Z(c.toString()).div(Math.pow(10,x.decimals)),p=new g.Z(u.toString()).div(Math.pow(10,f.decimals)),b=new g.Z(m.toString()).div(Math.pow(10,x.decimals)),w=new g.Z(o.toString()).div(new g.Z(10).pow(x.decimals));return{account:e.account,publicKey:e.publicKey,inputToken:x,outputToken:f,isLaunchToken:!1,warnings:{},createdAt:new Date(1e3*a.toNumber()),endAt:new Date(1e3*d.toNumber()),initialDeposited:v,inAmountPerCycle:new g.Z(s.toString()).div(Math.pow(10,x.decimals)),cycleFrequency:i.toNumber(),outReceived:p,totalFilled:h,inWithdrawn:b,outWithdrawn:p,avgPrice:h.div(p),inverseAvgPrice:p.div(h),filledPercentage:h.div(v),fills:e.fills,netDeposited:w,cyclesLeft:new C.BN(0),balance:new g.Z(0),outRemainingInBN:new C.BN(0),outRemaining:new g.Z(0),inRemaining:new g.Z(0),status:"closed",nextCycleAt:null,adjustedNextCycleAmountLeft:new g.Z(0),closedFills:e.fills}})).filter(Boolean)})):[]}),{enabled:Boolean(a.publicKey),refetchInterval:1e4}),s=i.data;return(0,B.jsxs)(B.Fragment,{children:[s&&s.length>0?(0,B.jsx)("div",{className:"mt-3 w-full border-white/5 overflow-x-auto hideScrollbar",children:s&&(null===s||void 0===s?void 0:s.map((function(e){return e?(0,B.jsx)(J,{data:e,dcaClient:t,hideButtons:!0},e.publicKey.toString()):null})))}):null,0===(null===s||void 0===s?void 0:s.length)?(0,B.jsx)("div",{className:"mt-3 bg-v2-lily/5 border border-v2-lily/10 rounded-lg text-white/20 text-sm h-full w-full flex items-center justify-center min-h-[180px]",children:(0,B.jsx)("span",{children:o.ag._("You have no closed orders")})}):null]})},$=n(10361),ee=n(20255),te=n(42082),ne=n(94675),re=n(2997),ae=function(e){var t=e.showAllPairs,n=e.currentTokenInfo,r=e.disabled;return(0,B.jsx)("div",{className:"flex justify-between items-center group/select",children:(0,B.jsxs)("button",{disabled:r,type:"button",className:(0,j.cn)("py-2 px-3 h-10 rounded-xl flex space-x-3 items-center  border border-transparent",r?"cursor-default":"bg-white dark:bg-v2-background dark:group-hover/select:border-v2-primary/50 dark:group-hover/select:bg-[rgba(199,242,132,0.2)] dark:group-hover/select:shadow-swap-input-dark"),onClick:t,children:[(0,B.jsx)("div",{className:"w-6 h-6 text-xs flex items-center justify-center rounded-full",children:(null===n||void 0===n?void 0:n.logoURI)&&(0,B.jsx)(T.Z,{width:24,height:24,info:n})}),(0,B.jsx)("div",{className:"font-semibold text-sm",translate:"no",children:null===n||void 0===n?void 0:n.symbol}),!r&&(0,B.jsx)("div",{className:"text-black/25 dark:text-white/25 group-hover/select:text-[#00D1DF] dark:group-hover/select:text-v2-primary fill-current",children:(0,B.jsx)(w.Z,{})})]})})},le=function(e){var t=e.showAllPairs,n=e.currentTokenInfo,r=e.disabled;return(0,B.jsx)("div",{className:"flex justify-between items-center group/select w-full h-full",children:(0,B.jsxs)("button",{type:"button",className:(0,j.cn)("py-2 px-5 h-full rounded-xl flex space-x-3 items-center border border-transparent w-full",r?"cursor-default":"dark:group-hover/select:border-v2-primary/50 dark:group-hover/select:bg-[rgba(199,242,132,0.2)] dark:group-hover/select:shadow-swap-input-dark"),onClick:t,children:[(0,B.jsx)("div",{className:"w-6 h-6 text-xs flex items-center justify-center rounded-full",children:(null===n||void 0===n?void 0:n.logoURI)&&(0,B.jsx)(T.Z,{width:24,height:24,info:n})}),(0,B.jsx)("div",{className:"font-semibold text-base",translate:"no",children:null===n||void 0===n?void 0:n.symbol}),!r&&(0,B.jsx)("div",{className:"!ml-auto text-black/25 dark:text-white/25 group-hover/select:text-[#00D1DF] dark:group-hover/select:text-v2-primary fill-current",children:(0,B.jsx)(w.Z,{})})]})})},ie=function(e){var t=e.control,n=e.name,r=e.modalId,l=e.getValues,i=e.mintsList,s=e.type,o=e.disabled,u=(0,f.Bn)(),m=u.unknownTokenMap,x=u.getTokenInfo,v=(0,ee.B)(),h=v.add,p=v.get,g=(0,re.JT)(),b=g.openModal,w=g.closeModal,j=g.openContextualModal,y=g.setContextValue,k=g.ModalContextConsumer,N=(0,te.T)(),M=(0,c.bc)({control:t,name:n}).field,C=(0,c.qo)({control:t,name:["fromTokenAddress","toTokenAddress"]}),Z=(0,a.Z)(C,2),T=Z[0],A=Z[1],P=(0,d.useMemo)((function(){return"fromTokenAddress"===n?T:A}),[T,A,n]),S=(0,d.useMemo)((function(){return x(P)}),[x,P]),V=function(e){if(e){var t,r,a=m.get(e.address),i=p(e.address),s=l(),o=s.toTokenAddress,d=s.fromTokenAddress;if("fromTokenAddress"===n)o===e.address?(t=e.address,r=d):(t=e.address,r=o);else d===e.address?(t=o,r=e.address):(t=d,r=e.address);a&&!i?setTimeout((function(){b((0,B.jsx)($.Z,{tokensInfo:[e],onClickReject:I,onClickAccept:function(){M.onChange("fromTokenAddress"===n?t:r),h(e.address),N(t,r),w()}}),{canDismiss:!1,containerStyle:{background:"none"}})}),0):(M.onChange("fromTokenAddress"===n?t:r),N(t,r),w())}},I=function(){k&&!o&&(y(r,i),j(r,i,(0,B.jsx)(k,{children:function(e){return(0,B.jsx)(ne.Z,{filterToken2022:!0,onSubmit:V,mintsList:e})}}),{position:"top",noCloseButton:!0}))};return"tokenAndInput"===s?(0,B.jsx)(ae,{disabled:o,showAllPairs:I,currentTokenInfo:S}):(0,B.jsx)(le,{disabled:o,showAllPairs:I,currentTokenInfo:S})},se=n(39268),oe=n.n(se),de=n(23632),ce=n(50438),ue=n(89521),me=n(87148),xe=n(3082),fe=function(e){var t,n=e.defaultDuration,r=(0,xe.useRouter)(),a=(0,me.Z)(null===r||void 0===r||null===(t=r.query)||void 0===t?void 0:t.period);return{period:(0,d.useMemo)((function(){var e,t;if(null!==r&&void 0!==r&&null!==(e=r.query)&&void 0!==e&&e.period&&a!==(null===r||void 0===r||null===(t=r.query)||void 0===t?void 0:t.period))switch(r.query.period){case"minute":return"minute";case"hour":return"hour";case"day":return"day";case"week":return"week";case"month":return"month";default:return}}),[r.query]),duration:n}},ve=n(50269),he=n(53636),pe=n(56100),ge=n(69825),be=n(95523),we=n(40558),je=n(82625),ye=function(e){var t=e.loading,n=e.name,r=e.control,a=e.disabled,l=(0,f.Bn)().tokenMap,i=d.useRef(null),s=(0,c.qo)({control:r,name:"fromValue"===n?"fromTokenAddress":"toTokenAddress"}),o=d.useMemo((function(){return l.get(s)}),[l,s]);return(0,B.jsx)(c.Qr,{name:n,control:r,rules:{required:"Required"},render:function(e){var l=e.field,s=l.onChange,d=l.value,c=l.onBlur;return(0,B.jsxs)("div",{className:"flex flex-col text-right h-full",children:[t?(0,B.jsx)(pe.O,{className:"ml-2 w-24 h-6 self-end"}):(0,B.jsx)(ge.Z,{name:n,className:"outline-none",decimals:null===o||void 0===o?void 0:o.decimals,onChange:s,value:d.value,disabled:a,ref:i,onBlur:c}),t?(0,B.jsx)(pe.O,{className:"ml-2 mt-0.5 w-8 h-4 self-end"}):null!==d&&void 0!==d&&d.value?(0,B.jsx)("div",{className:(0,j.cn)("text-xs text-black-35 dark:text-white-35"),onClick:function(){var e;return null===i||void 0===i||null===(e=i.current)||void 0===e?void 0:e.focus()},children:(0,B.jsx)(je.Z,{control:r,name:n})}):null]})}})},ke=n(44710),Ne=function(e){var t=e.value,n=e.onClick;return(0,B.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,B.jsxs)("div",{className:"flex items-center cursor-pointer  text-xs",children:[(0,B.jsx)(s.cC,{id:"Enable Pricing Strategy"}),(0,B.jsx)(we.Z,{variant:"dark",content:(0,B.jsx)("span",{className:"flex rounded-lg text-xs text-white-75",children:(0,B.jsx)(s.cC,{id:"Advanced pricing strategy allows you to set a minimum and maximum price range."})}),children:(0,B.jsx)("div",{className:"flex items-center ml-1 text-white/30 fill-current",children:(0,B.jsx)(ve.Z,{height:16,width:16})})})]}),(0,B.jsx)("div",{className:"flex justify-center",children:(0,B.jsx)(ke.default,{active:t,onClick:n})})]})},Me=function(e){var t=e.disabled,n=e.setValue,r=e.control,a=e.name,l=(0,f.Os)().connected,i=(0,c.qo)({control:r,name:a}),o=(0,f.Bn)().getTokenInfo,d=(0,f.jB)().useWSol,u=(0,v.FB)(i),m=u.balance,x=u.isInitialLoading,h=o(i);return l&&!x&&h?(0,B.jsxs)("div",{className:"flex justify-between items-center space-x-1",children:[(0,B.jsx)("button",{type:"button",onClick:function(){var e=new g.Z(m).div(2).toDP(h.decimals);n("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})},disabled:t,className:(0,j.cn)(t&&"cursor-not-allowed opacity-50","cursor-pointer text-[10px] text-black-35 border-black-10 dark:text-white-35 dark:bg-black-10 leading-4 py-[1px] px-2 rounded-full border dark:border-white-10 font-semibold","hover:border-v2-primary/50 hover:bg-[#2C3F54] hover:text-v2-primary/50","dark:hover:text-v2-primary dark:hover:bg-v2-primary/10 dark:hover:border-v2-primary"),children:(0,B.jsx)(s.cC,{id:"HALF"})}),(0,B.jsx)("button",{type:"button",onClick:function(){var e=new g.Z(m);i!==b.W4.toBase58()||d||(e=e.minus(b.WO)),e.lt(0)&&(e=new g.Z(m)),n("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})},disabled:t,className:(0,j.cn)(t&&"cursor-not-allowed opacity-50","cursor-pointer text-[10px] text-black-35 border-black-10 dark:text-white-35 dark:bg-black-10 leading-4 py-[1px] px-2 rounded-full border dark:border-white-10 font-semibold","hover:border-[#00D1DF] hover:bg-[#2C3F54] hover:text-v2-primary/50","dark:hover:text-v2-primary dark:hover:bg-v2-primary/10 dark:hover:border-v2-primary"),children:(0,B.jsx)(s.cC,{id:"MAX"})})]}):null},Ce=n(94223),Ze=n(1622),Te=function(e){var t=e.control,n=e.name,r=(0,f.Bn)().tokenMap,a=(0,f.Os)().connected,l=(0,c.qo)({control:t,name:n}),i=d.useMemo((function(){return r.get(l)}),[r,l]);return a?(0,B.jsxs)("div",{className:"flex space-x-1 items-center text-black-50 dark:text-[#CFF3FF] dark:text-opacity-[0.35]",children:[(0,B.jsx)("div",{className:"mb-px",children:(0,B.jsx)(Ce.Z,{width:11,height:11})}),(0,B.jsxs)("div",{className:"text-xs font-normal",children:[(0,B.jsx)(Ze.Z,{mintAddress:l,separateWSol:!0})," ",(0,B.jsx)("span",{children:null===i||void 0===i?void 0:i.symbol})]})]}):null},Ae=n(73413),Pe=n(1242),Se=n(3011),Ve=n(49839),Ie=oe()((function(){return Promise.resolve().then(n.bind(n,73413))}),{ssr:!1,loadableGenerated:{webpack:function(){return[73413]}}}),_e=[{id:"second",name:o.ag._("second"),minDurationNumber:60,suggestiveText:o.ag._("Minimum of 60 seconds required"),secondsInPeriod:1},{id:"minute",name:o.ag._("minute"),minDurationNumber:2,suggestiveText:o.ag._("Minimum of 2 minutes required"),secondsInPeriod:60},{id:"hour",name:o.ag._("hour"),minDurationNumber:2,suggestiveText:o.ag._("Minimum of 2 hours required"),secondsInPeriod:3600},{id:"day",name:o.ag._("day"),minDurationNumber:2,suggestiveText:o.ag._("Minimum of 2 days required"),secondsInPeriod:F},{id:"week",name:o.ag._("week"),minDurationNumber:2,suggestiveText:o.ag._("Minimum of 2 weeks required"),secondsInPeriod:604800},{id:"month",name:o.ag._("month"),minDurationNumber:2,suggestiveText:o.ag._("Minimum of 2 months required"),secondsInPeriod:2592e3}],De={fromTokenAddress:b.E6.toBase58(),toTokenAddress:b.W4.toBase58(),period:"day",fromValue:{formattedValue:"",value:"",floatValue:void 0},intervalNumber:{formattedValue:"1",value:"1",floatValue:1},durationNumber:{formattedValue:"7",value:"7",floatValue:7},enableMinMaxPrice:!1,minValue:{formattedValue:"",value:"",floatValue:void 0},maxValue:{formattedValue:"",value:"",floatValue:void 0}},Fe="PAIRS_SELECT_TO_PAIR_MODAL_ID",Be=function(e){var t=e.title,n=e.active,r=e.onClick;return(0,B.jsx)("button",{type:"button",onClick:r,className:(0,j.cn)("rounded-2xl px-4 py-2 text-xs text-white/20 border border-transparent whitespace-nowrap","dark:hover:!text-v2-primary",{"!text-v2-primary border-v2-primary/20 bg-v2-primary/5 ":n}),children:t})},Oe=function(e){var t=e.inToken,n=e.outToken,l=e.type,C=(0,f.Os)(),Z=(0,f.Rc)(),T=d.useMemo((function(){return new m.DA(Z,"mainnet-beta")}),[Z]),A=(0,f.C9)(),P=(0,v._)("dca-interval-number",De.intervalNumber),_=(0,a.Z)(P,2),F=_[0],O=_[1],q=(0,v._)("dca-period",De.period),L=(0,a.Z)(q,2),E=L[0],R=L[1],U=(0,v._)("dca-duration-number",De.durationNumber),K=(0,a.Z)(U,2),H=K[0],W=K[1],J=(0,c.cI)({defaultValues:De}),Y=J.control,z=J.setValue,$=J.getValues,ee=J.handleSubmit,ne=J.formState.isSubmitting,re=J.watch,ae=(0,f.Bn)(),le=ae.getTokenInfo,se=ae.isLoaded,oe=ae.newTokenListMap,me=ae.tokens,xe=(ae.tokenMap,(0,v.NL)()),je=(0,te.T)(),ke=(0,f.MG)().constants.MAX_INPUT_LIMIT,Ce=d.useMemo((function(){return me.map((function(e){return e.address}))}),[me]),Ze=(0,c.qo)({control:Y,name:"fromValue"}),Oe=(0,c.qo)({control:Y,name:"fromTokenAddress"}),qe=(0,c.qo)({control:Y,name:"toTokenAddress"}),Le=(0,c.qo)({control:Y,name:"intervalNumber"}),Ee=(0,c.qo)({control:Y,name:"period"}),Re=(0,c.qo)({control:Y,name:"durationNumber"}),Ue=(0,c.qo)({control:Y,name:"enableMinMaxPrice"}),Ke=(0,c.qo)({control:Y,name:"minValue"}),He=(0,c.qo)({control:Y,name:"maxValue"}),We=Q(new p.PublicKey(Oe),new p.PublicKey(qe)),Qe="launch-page"===(null===l||void 0===l?void 0:l.mode),Je="buy"===(null===l||void 0===l?void 0:l.side);d.useEffect((function(){l&&z("enableMinMaxPrice",!0)}),[l,z]),d.useEffect((function(){var e=re((function(e,t){var n=e.intervalNumber,r=e.durationNumber,a=e.period,l=t.name;"intervalNumber"===l?O(n):"period"===l?R(a):"durationNumber"===l&&r&&W(r)}));return function(){return e.unsubscribe()}}),[re,O,R,W]),d.useEffect((function(){se&&(z("intervalNumber",F),z("period",E),z("durationNumber",H))}),[z,se]),d.useEffect((function(){se&&t&&n&&t!==n&&(z("fromTokenAddress",t.address),z("toTokenAddress",n.address))}),[t,n,z,je,Oe,qe,se]);var Ye=d.useMemo((function(){return{fromTokenInfo:le(Oe),toTokenInfo:le(qe)}}),[le,Oe,qe]),ze=Ye.fromTokenInfo,Ge=Ye.toTokenInfo,Xe=d.useMemo((function(){return _e.find((function(e){return e.id===Ee}))}),[Ee]),$e=d.useMemo((function(){return{selectedPeriodName:(null===Xe||void 0===Xe?void 0:Xe.name)||"",periodOption:_e.map((function(e){return e.id})),secondsInPeriod:(null===Xe||void 0===Xe?void 0:Xe.secondsInPeriod)||0}}),[Xe]),et=$e.selectedPeriodName,tt=$e.periodOption,nt=$e.secondsInPeriod,rt=(0,f.y6)(),at=rt.tokenPriceMap,lt=rt.getUSDValue,it=rt.isLatest,st=d.useMemo((function(){var e,t;if(!ze||!Ge)return[null,null];var n=null===(e=at[ze.address])||void 0===e?void 0:e.usd,r=null===(t=at[Ge.address])||void 0===t?void 0:t.usd;return"UxxvnMnUGoXJig9wc8phE1mYJZMFq3hpfr259zMWcq4"!==ze.address&&ze.address!==Pe.mw||(n=1),"UxxvnMnUGoXJig9wc8phE1mYJZMFq3hpfr259zMWcq4"!==Ge.address&&Ge.address!==Pe.mw||(r=1),n||lt(ze.address),r||lt(Ge.address),[n,r]}),[ze,lt,Ge,at,it]),ot=(0,a.Z)(st,2),dt=ot[0],ct=ot[1],ut=d.useMemo((function(){if(ze&&null!==Ze&&void 0!==Ze&&Ze.floatValue&&null!==Re&&void 0!==Re&&Re.floatValue&&(0,h.Hd)(null===Re||void 0===Re?void 0:Re.floatValue)&&(0,h.Hd)(Ze.floatValue)){var e=new g.Z(Re.floatValue).div(Le.floatValue||1).floor().add(new g.Z(1));return{numberOfCycles:e,perCycle:new g.Z(Ze.floatValue).div(e).toDP(ze.decimals).toFixed()}}}),[Le.floatValue,ze,null===Ze||void 0===Ze?void 0:Ze.floatValue,null===Re||void 0===Re?void 0:Re.floatValue]),mt=d.useMemo((function(){if(!at||void 0===(null===Re||void 0===Re?void 0:Re.floatValue)||!Xe||!ut)return{isIntervalTooLow:!1,isIntervalTooHigh:!1,isFundsTooLow:!0,isPerCycleTooLow:!0,isDurationTooLow:!1,isMinBiggerThanMax:!1,isMaxPriceEmpty:!1,isMinPriceEmpty:!1};var e=new g.Z(Ze.floatValue||0).mul(dt||0),t=e.div(ut.numberOfCycles);return{isIntervalTooLow:!Le.floatValue,isIntervalTooHigh:Number(Le.floatValue||0)>Re.floatValue,isFundsTooLow:e.lt(5),isPerCycleTooLow:t.lt(1),isDurationTooLow:Number((null===Re||void 0===Re?void 0:Re.floatValue)||0)<Xe.minDurationNumber,isMinBiggerThanMax:!!(Ue&&Ke.floatValue&&He.floatValue)&&new g.Z(Ke.floatValue||0).gte(He.floatValue||0),isNewMintPerCycleTooLow:!!We&&t.lt(100),isMaxPriceEmpty:!(!We||!Je)&&!He.floatValue,isMinPriceEmpty:!(!We||Je)&&!Ke.floatValue}}),[Je,We,dt,ut,Le,Ze.floatValue,at,null===Re||void 0===Re?void 0:Re.floatValue,Xe,Ue,Ke,He]),xt=mt.isIntervalTooLow,ft=mt.isIntervalTooHigh,vt=mt.isFundsTooLow,ht=mt.isPerCycleTooLow,pt=mt.isDurationTooLow,gt=mt.isMinBiggerThanMax,bt=mt.isNewMintPerCycleTooLow,wt=mt.isMaxPriceEmpty,jt=mt.isMinPriceEmpty,yt=(0,v.FB)(Oe).balance,kt=d.useMemo((function(){return!(null===ze||void 0===ze?void 0:ze.decimals)||new g.Z((null===Ze||void 0===Ze?void 0:Ze.floatValue)||0).lessThanOrEqualTo(yt)}),[yt,null===ze||void 0===ze?void 0:ze.decimals,null===Ze||void 0===Ze?void 0:Ze.floatValue]),Nt=d.useCallback((function(){var e=new g.Z(yt);Oe===b.W4.toBase58()&&(e=e.minus(b.WO)),z("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})}),[yt,Oe,z]),Mt=d.useMemo((function(){return null===ze||void 0===ze?void 0:ze.symbol}),[ze]),Ct=d.useMemo((function(){return null===Ge||void 0===Ge?void 0:Ge.symbol}),[Ge]),Zt=d.useMemo((function(){var e=[];if(Ue&&(0===Ke.floatValue&&e.push(o.ag._("Please enter a Minimum Price greater than 0")),0===He.floatValue&&e.push(o.ag._("Please enter a Maximum Price greater than 0")),gt&&e.push(o.ag._("Minimum Price must be lower than Maximum Price."))),pt)e.push(null===Xe||void 0===Xe?void 0:Xe.suggestiveText);else{var t="".concat(null===Re||void 0===Re?void 0:Re.floatValue," ").concat(null===Xe||void 0===Xe?void 0:Xe.name);(xt||ft)&&e.push(o.ag._("Minimum interval of 1 {0}(s) required, up to {maximumIntervalAllowed}(s)",{0:null===Xe||void 0===Xe?void 0:Xe.name,maximumIntervalAllowed:t}))}return C.connected&&Ze.floatValue&&(null!==Re&&void 0!==Re&&Re.floatValue&&vt&&e.push(o.ag._("Minimum {MININUM_FUNDS} USD required",{MININUM_FUNDS:5})),bt&&e.push(o.ag._("Minimum {NEW_MINT_MINIMUM_FUNDS} USD per order required, you can increase your funds, or reduce your frequency.",{NEW_MINT_MINIMUM_FUNDS:100})),ht&&e.push(o.ag._("Minimum {MINIMUM_PER_CYCLE} USD per order required, you can increase your funds, or reduce your frequency.",{MINIMUM_PER_CYCLE:1})),wt&&e.push(o.ag._("Please enter a Max price.")),jt&&e.push(o.ag._("Please enter a Min price.")),kt||e.push((0,B.jsxs)("div",{className:"space-y-1",children:[o.ag._("Insufficient balance, you have {balance} {fromTokenSymbol}.",{balance:yt,fromTokenSymbol:Mt}),(0,B.jsx)("br",{}),(0,B.jsx)("button",{type:"button",className:"underline cursor-pointer",onClick:Nt,children:o.ag._("Use available balance")})]}))),e}),[jt,wt,bt,xt,ft,Ue,pt,Xe,C.connected,Ze.floatValue,Ke.floatValue,He.floatValue,gt,Re,vt,ht,kt,yt,Mt,Nt]),Tt=(0,Ae.useIsAccountFrozen)(ze),At=(0,Ae.useIsAccountFrozen)(Ge),Pt=d.useMemo((function(){return Boolean(!Ze.floatValue||Zt.length>0||pt||Tt||At)}),[Zt.length,Ze.floatValue,pt,Tt,At]),St=(0,ce.Z)({quoteTokenInfo:Ge,baseTokenInfo:ze,quoteTokenPrice:ct,baseTokenPrice:dt}).rateDecimals,Vt=(0,V.b)(ze,Ge),It=Vt.quoteTokenInfo,_t=Vt.baseTokenInfo,Dt=Vt.quoteTokenPrice,Ft=Vt.baseTokenPrice,Bt=d.useMemo((function(){if(!I.d.find((function(e){return e===(null===ze||void 0===ze?void 0:ze.address)||e===(null===Ge||void 0===Ge?void 0:Ge.address)})))return null;var e=(null===ze||void 0===ze?void 0:ze.address)===(null===_t||void 0===_t?void 0:_t.address);return{isFromBase:Boolean(e)}}),[null===_t||void 0===_t?void 0:_t.address,null===ze||void 0===ze?void 0:ze.address,null===Ge||void 0===Ge?void 0:Ge.address]),Ot=(0,de.Z)().fetchPrice,qt=(0,y.Nr)(d.useMemo((function(){return{quoteTokenPrice:Dt,baseTokenPrice:Ft,quoteTokenInfo:It,baseTokenInfo:_t,isBaseQuoteMode:Bt,rateDecimals:St,fromValue:Ze,durationNumber:Re}}),[Dt,Ft,It,_t,Bt,St,Ze,Re]),200),Lt=(0,v.aM)(["jupiter-quote",qt],(0,r.Z)(i().mark((function e(){var t,n,r,a,l,s,o,d,c,u,m,x,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=qt.quoteTokenPrice,n=qt.baseTokenPrice,r=qt.quoteTokenInfo,a=qt.baseTokenInfo,l=qt.isBaseQuoteMode,s=qt.rateDecimals,o=qt.fromValue,d=qt.durationNumber,t&&n&&r&&a&&o.floatValue&&null!==d&&void 0!==d&&d.floatValue){e.next=4;break}return e.abrupt("return",null);case 4:return c=null!==l&&void 0!==l&&l.isFromBase?{fromTokenInfo:a,toTokenInfo:r}:{fromTokenInfo:r,toTokenInfo:a},u=c.fromTokenInfo,m=c.toTokenInfo,x=new g.Z(o.floatValue).div(new g.Z(d.floatValue)).mul(Math.pow(10,u.decimals)).toFixed(0),null!==l&&void 0!==l&&l.isFromBase,f={fromTokenInfo:u,toTokenInfo:m,amount:x,decimals:s},e.next=9,Ot(f);case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),{enabled:!ne,keepPreviousData:!0}),Et=Lt.data,Rt=Lt.isLoading,Ut=(0,S.R3)(),Kt=(0,Se.KO)(Ve.y),Ht=(0,a.Z)(Kt,1)[0],Wt=d.useCallback(function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,a,l,o,d,c,u,x,f,v,h,b,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("",e.prev=1,n=t.fromValue,r=t.durationNumber,a=t.minValue,l=t.maxValue,o=t.enableMinMaxPrice,!(ze&&Ge&&n.floatValue&&null!==r&&void 0!==r&&r.floatValue&&C.signTransaction&&C.publicKey&&null!==ut&&void 0!==ut&&ut.numberOfCycles)){e.next=24;break}return d=new g.Z(n.floatValue).mul(Math.pow(10,ze.decimals)),c=d.div(ut.numberOfCycles),u=function(){if(!o)return null;if(null!==Bt&&void 0!==Bt&&Bt.isFromBase){if(!a.floatValue)return null;var e=new g.Z(c).div(Math.pow(10,ze.decimals)),t=new g.Z(a.floatValue),n=e.mul(t).mul(Math.pow(10,Ge.decimals)).floor().toFixed(0);return BigInt(n)}if(!l.floatValue)return null;var r=new g.Z(c).div(Math.pow(10,ze.decimals)),i=new g.Z(l.floatValue),s=r.div(i).mul(Math.pow(10,Ge.decimals)).floor().toFixed(0);return BigInt(s)}(),x=function(){if(!o)return null;if(null!==Bt&&void 0!==Bt&&Bt.isFromBase){if(!l.floatValue)return null;var e=new g.Z(c).div(Math.pow(10,ze.decimals)),t=new g.Z(l.floatValue),n=e.mul(t).mul(Math.pow(10,Ge.decimals)).floor().toFixed(0);return BigInt(n)}if(!a.floatValue)return null;var r=new g.Z(c).div(Math.pow(10,ze.decimals)),i=new g.Z(a.floatValue),s=r.div(i).mul(Math.pow(10,Ge.decimals)).floor().toFixed(0);return BigInt(s)}(),e.next=10,T.createDCA({inAmount:BigInt(d.toFixed(0)),cycleSecondsApart:BigInt(nt*((null===Le||void 0===Le?void 0:Le.floatValue)||1)),inAmountPerCycle:BigInt(c.toFixed(0)),inputMint:new p.PublicKey(Oe),outputMint:new p.PublicKey(qe),minOutAmountPerCycle:u,maxOutAmountPerCycle:x,startAt:null,user:C.publicKey});case 10:return f=e.sent,v=f.tx,e.next=14,Z.getLatestBlockhash("confirmed");case 14:return h=e.sent,b=h.blockhash,w=h.lastValidBlockHeight,v.recentBlockhash=b,v.lastValidBlockHeight=w,v.feePayer=C.publicKey,e.next=22,Ut(v,{blockhash:b,idl:m.xO,idlProgramId:m.PN["mainnet-beta"],lastValidBlockHeight:w},{successMessage:(0,B.jsx)(s.cC,{id:"DCA created for {0} {1} to {2} over {3} {selectedPeriodName}",values:{0:n.floatValue,1:ze.symbol,2:Ge.symbol,3:r.floatValue,selectedPeriodName:et}}),submittingMessage:(0,B.jsx)(s.cC,{id:"Creating DCA"}),errorMessage:(0,B.jsx)(s.cC,{id:"Failed to create DCA"}),referenceFee:Ht.isOutdated?null:Ht.loAndDCA});case 22:xe.invalidateQueries({queryKey:["dca"]}),z("fromValue",{formattedValue:"",value:"",floatValue:void 0});case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(1),console.error(e.t0);case 29:return e.prev=29,A(),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[1,26,29,32]])})));return function(t){return e.apply(this,arguments)}}(),[null===ut||void 0===ut?void 0:ut.numberOfCycles,Le.floatValue,ze,Ge,C,T,nt,Oe,qe,Z,et,xe,z,null===Bt||void 0===Bt?void 0:Bt.isFromBase,A,Ut,Ht]),Qt=d.useState("Active DCAs"),Jt=(0,a.Z)(Qt,2),Yt=Jt[0],zt=Jt[1],Gt=d.useMemo((function(){return oe.has(Oe)||oe.has(qe)}),[oe,Oe,qe]),Xt=d.useRef(!1);d.useEffect((function(){Gt&&!1===Xt.current&&(Xt.current=!0,z("enableMinMaxPrice",!0))}),[Gt,z]);var $t=(0,ue.Z)();d.useEffect((function(){$t&&z("fromValue",{formattedValue:$t,value:$t,floatValue:Number($t)})}),[z,$t]);var en=fe({defaultDuration:10}),tn=en.period,nn=en.duration;d.useEffect((function(){tn&&nn&&(z("period",tn),z("durationNumber",{value:String(nn),floatValue:nn,formattedValue:String(nn)}))}),[z,tn,nn]);var rn=d.useMemo((function(){return Math.max((null===ze||void 0===ze?void 0:ze.decimals)||0,(null===Ge||void 0===Ge?void 0:Ge.decimals)||0)}),[null===ze||void 0===ze?void 0:ze.decimals,null===Ge||void 0===Ge?void 0:Ge.decimals]),an=d.useCallback((function(){je(Ge,ze)}),[Ge,ze,je]),ln=d.useMemo((function(){var e;return C.connected&&Ze.floatValue&&ze&&Ge&&ut?(0,B.jsxs)("div",{className:"w-full py-4 mb-3 px-3 rounded-lg bg-v2-lily/5 border border-v2-lily/10 text-xs",children:[(0,B.jsx)("span",{className:"text-v2-lily/[.75]",children:o.ag._("DCA Summary")}),(0,B.jsxs)("div",{className:"mt-3 space-y-1",children:[(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-white/40",children:o.ag._("Sell total")}),(0,B.jsxs)("span",{className:"text-white/[.75]",children:[(0,B.jsx)(he.Z,{currency:!1,value:Ze.floatValue})," ",ze.symbol]})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-white/40",children:o.ag._("Sell per order")}),(0,B.jsxs)("span",{className:"text-white/[.75] flex space-x-1",children:[(0,B.jsx)(he.Z,{currency:!1,value:ut.perCycle}),(0,B.jsx)("span",{children:ze.symbol})]})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-white/40",children:o.ag._("Receive")}),(0,B.jsx)("span",{className:"text-white/[.75]",children:Ge.symbol})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-white/40",children:o.ag._("Order interval")}),(0,B.jsx)("span",{className:"text-white/[.75]",children:o.ag._("{0} {selectedPeriodName}(s)",{0:Le.formattedValue,selectedPeriodName:et})})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-white/40",children:o.ag._("Start date")}),(0,B.jsx)("span",{className:"text-white/[.75]",children:Qe?o.ag._("Start when trading is enabled"):o.ag._("Immediate")})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-white/40",children:o.ag._("# of orders")}),(0,B.jsx)("span",{className:"text-white/[.75]",children:ut.numberOfCycles.toNumber()})]}),!Qe&&(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-white/40",children:o.ag._("Estimated price impact per order")}),(0,B.jsxs)("span",{className:"text-white/[.75] flex space-x-1",children:[(null===Et||void 0===Et||null===(e=Et.priceImpactPct)||void 0===e?void 0:e.toFixed(2))||"-","%"]})]}),(0,B.jsxs)("div",{className:"flex justify-between",children:[(0,B.jsx)("span",{className:"text-white/40",children:o.ag._("Platform fee")}),(0,B.jsx)("span",{className:"text-v2-primary",children:"0.1%"})]})]})]}):null}),[Ze.floatValue,ze,Ge,ut,Le.formattedValue,et,Qe,null===Et||void 0===Et?void 0:Et.priceImpactPct,C.connected]);return Qe?(0,B.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-between text-lg lg:text-2xl text-v2-lily",children:[(0,B.jsx)("form",{className:"flex flex-col items-center justify-between w-full",onSubmit:ee(Wt),children:(0,B.jsx)("div",{className:"w-full",children:(0,B.jsxs)("div",{className:"flex-col space-y-2 relative",children:[(0,B.jsxs)("div",{className:"flex justify-between items-center",children:[(0,B.jsxs)("label",{htmlFor:"fromValue",className:"text-xs md:text-sm font-medium text-black/90 dark:text-white flex items-center",children:[(0,B.jsx)(s.cC,{id:"I want to allocate"}),(0,B.jsx)(we.Z,{content:o.ag._("The higher the amount per order, the higher the priority fee, the higher the chances of getting filled."),children:(0,B.jsx)("div",{className:"-mt-0.5 md:mt-0 ml-2 text-white/20 fill-current",children:(0,B.jsx)(ve.Z,{width:12,height:12})})})]}),(0,B.jsxs)("div",{className:"flex space-x-2",children:[(0,B.jsx)(Te,{control:Y,name:"fromTokenAddress"}),(0,B.jsx)(Me,{setValue:z,control:Y,name:"fromTokenAddress"})]})]}),(0,B.jsx)("div",{className:(0,j.cn)("p-4 h-[72px] border border-transparent relative bg-v2-background-dark rounded-xl flex flex-col space-y-3 group","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:(0,B.jsxs)("div",{className:"flex",children:[(0,B.jsx)(ie,{getValues:$,control:Y,modalId:Fe,name:"fromTokenAddress",mintsList:Ce,type:"tokenAndInput",disabled:"sell"===l.side}),(0,B.jsx)("span",{className:"flex-1 text-right",children:(0,B.jsx)(ye,{control:Y,name:"fromValue"})})]})}),(0,B.jsxs)("div",{className:"flex justify-between items-center",children:[(0,B.jsx)("label",{className:"text-xs md:text-sm font-medium text-black/90 dark:text-white",children:(0,B.jsx)(s.cC,{id:"To buy"})}),(0,B.jsx)("div",{className:"flex",children:(0,B.jsx)(Te,{control:Y,name:"toTokenAddress"})})]}),(0,B.jsx)("div",{className:"h-[72px] border border-[#EFF0F0] dark:border-0 bg-v2-background-dark rounded-xl flex flex-col space-y-3",children:(0,B.jsx)(ie,{getValues:$,control:Y,modalId:Fe,name:"toTokenAddress",mintsList:Ce,type:"tokenSelectOnly",disabled:"buy"===l.side})}),(0,B.jsxs)("div",{className:"flex space-x-2 items-end",children:[(0,B.jsxs)("div",{className:"flex flex-col justify-between w-full",children:[(0,B.jsx)("label",{className:"text-xs font-medium text-black/90 dark:text-white",children:(0,B.jsx)(s.cC,{id:"Every"})}),(0,B.jsx)(c.Qr,{control:Y,name:"intervalNumber",render:function(e){var t=e.field,n=(t.name,t.onChange),r=(t.onBlur,t.value);return(0,B.jsx)("div",{className:(0,j.cn)("h-[54px] mt-2 rounded-xl flex space-x-3 items-center px-2 bg-v2-background-dark","text-sm lg:text-base","group-hover/select:border-v2-active-state group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),children:(0,B.jsx)(u.Z,{className:"w-full py-3 px-4 bg-transparent !outline-none",value:null===r||void 0===r?void 0:r.floatValue,onValueChange:n,thousandSeparator:","===y.A5?".":",",decimalSeparator:","===y.A5?",":".",decimalScale:0,allowNegative:!1,allowLeadingZeros:!1,isAllowed:function(e){var t=e.floatValue;return!t||t<=1e4}})})}})]}),(0,B.jsxs)("div",{className:" flex-col justify-between w-full hidden md:flex",children:[(0,B.jsxs)("label",{className:"text-xs md:text-sm font-medium text-black/90 dark:text-white flex items-center",children:[(0,B.jsx)(s.cC,{id:"Period"}),(0,B.jsx)(we.Z,{content:o.ag._("To minimise the predictability of your DCA strategy, orders are filled within a randomised padding of +/- 26 seconds."),children:(0,B.jsx)("div",{className:"-mt-0.5 md:mt-0 ml-2 text-white/20 fill-current",children:(0,B.jsx)(ve.Z,{width:12,height:12})})})]}),(0,B.jsx)(c.Qr,{control:Y,name:"durationNumber",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,B.jsxs)("div",{className:(0,j.cn)("h-[54px] mt-2 rounded-xl flex space-x-3 items-center px-2 bg-v2-background-dark","text-sm lg:text-base","group-hover/select:border-v2-active-state group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),children:[(0,B.jsx)(u.Z,{className:"w-full py-3 pl-2 bg-transparent !outline-none",value:null===r||void 0===r?void 0:r.floatValue,onValueChange:n,thousandSeparator:","===y.A5?".":",",decimalSeparator:","===y.A5?",":".",decimalScale:0,allowNegative:!1,isAllowed:function(e){var t=e.floatValue;return!t||t<=1e4}}),(0,B.jsx)("div",{className:"text-sm",children:o.ag._("{selectedPeriodName}(s)",{selectedPeriodName:et})})]})}})]})]}),(0,B.jsxs)("div",{className:"flex gap-2",children:[(0,B.jsxs)("div",{className:"flex flex-col w-full md:hidden",children:[(0,B.jsxs)("label",{className:"text-xs md:text-sm font-medium text-black/90 dark:text-white flex items-center",children:[(0,B.jsx)(s.cC,{id:"Period"}),(0,B.jsx)(we.Z,{content:o.ag._("To minimise the predictability of your DCA strategy, orders are filled within a randomised padding of +/- 26 seconds."),children:(0,B.jsx)("div",{className:"-mt-0.5 md:mt-0 ml-2 text-white/20 fill-current",children:(0,B.jsx)(ve.Z,{width:12,height:12})})})]}),(0,B.jsx)(c.Qr,{control:Y,name:"durationNumber",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,B.jsxs)("div",{className:(0,j.cn)("h-[54px] mt-2 rounded-xl flex space-x-3 items-center px-2 bg-v2-background-dark","text-sm lg:text-base","group-hover/select:border-v2-active-state group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),children:[(0,B.jsx)(u.Z,{className:"w-full py-3 pl-2 bg-transparent !outline-none",value:null===r||void 0===r?void 0:r.floatValue,onValueChange:n,thousandSeparator:","===y.A5?".":",",decimalSeparator:","===y.A5?",":".",decimalScale:0,allowNegative:!1,isAllowed:function(e){var t=e.floatValue;return!t||t<=1e4}}),(0,B.jsx)("div",{className:"text-sm",children:o.ag._("{selectedPeriodName}(s)",{selectedPeriodName:et})})]})}})]}),"buy"===l.side?(0,B.jsxs)("div",{className:"flex flex-col justify-between w-full",children:[(0,B.jsxs)("label",{className:"text-xs md:text-sm font-medium text-black/90 dark:text-white flex items-center",children:[(0,B.jsx)(s.cC,{id:"Max Price"}),(0,B.jsx)(we.Z,{content:o.ag._("Max Price of the token you want to buy. If the price of the token is higher than the Max Price, the order will not be executed."),children:(0,B.jsx)("div",{className:"-mt-0.5 md:mt-0 ml-2 text-white/20 fill-current",children:(0,B.jsx)(ve.Z,{width:12,height:12})})})]}),(0,B.jsx)(c.Qr,{control:Y,name:"maxValue",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,B.jsx)("div",{className:(0,j.cn)("h-[54px] mt-2 rounded-xl flex space-x-3 items-center px-2 bg-v2-background-dark relative","text-sm lg:text-base","group-hover/select:border-v2-active-state group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),children:(0,B.jsx)(u.Z,{className:"w-full py-3 pl-2 bg-transparent !outline-none",value:null===r||void 0===r?void 0:r.floatValue,onValueChange:n,thousandSeparator:","===y.A5?".":",",decimalSeparator:","===y.A5?",":".",decimalScale:rn,allowNegative:!1})})}}),(0,B.jsx)("div",{className:"pr-2 text-xxs text-black-50 dark:text-[#CFF3FF] dark:text-opacity-[0.35] flex justify-end",children:o.ag._("{toTokenSymbol} / {fromTokenSymbol}",{toTokenSymbol:Ct,fromTokenSymbol:Mt})})]}):(0,B.jsxs)("div",{className:"flex flex-col justify-between w-full",children:[(0,B.jsxs)("label",{className:"text-xs md:text-sm font-medium text-black/90 dark:text-white flex justify-between items-center",children:[(0,B.jsx)(s.cC,{id:"Min Price"}),(0,B.jsx)(we.Z,{content:o.ag._("Min Price of the token you want to sell. If the price of the token is lower than the Min Price, the order will not be executed."),children:(0,B.jsx)("div",{className:"-mt-0.5 md:mt-0 ml-2 text-white/20 fill-current",children:(0,B.jsx)(ve.Z,{width:12,height:12})})})]}),(0,B.jsx)(c.Qr,{control:Y,name:"minValue",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,B.jsx)("div",{className:(0,j.cn)("h-[54px] mt-2 rounded-xl flex space-x-3 items-center px-2 bg-v2-background-dark","text-sm lg:text-base","group-hover/select:border-v2-active-state group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),children:(0,B.jsx)(u.Z,{className:"w-full py-3 pl-2 bg-transparent !outline-none",value:null===r||void 0===r?void 0:r.floatValue,onValueChange:n,thousandSeparator:","===y.A5?".":",",decimalSeparator:","===y.A5?",":".",decimalScale:rn,allowNegative:!1,isAllowed:function(e){var t=e.floatValue;return!t||t<=1e4}})})}}),(0,B.jsx)("div",{className:"pr-2 text-xxs text-black-50 dark:text-[#CFF3FF] dark:text-opacity-[0.35] flex justify-end",children:o.ag._("{toTokenSymbol} / {fromTokenSymbol}",{toTokenSymbol:Ct,fromTokenSymbol:Mt})})]})]}),Pt&&Zt.length>0?(0,B.jsxs)("div",{className:"mb-4 py-3 pl-2 rounded-lg text-xs flex items-center text-white space-x-2 w-full bg-[#F04A44]",children:[(0,B.jsx)("div",{className:"h-3 w-3 mt-0.5 fill-current",children:(0,B.jsx)(M.Z,{fill:"inherit"})}),(0,B.jsx)("div",{className:"flex flex-col space-y-1",children:Zt.map((function(e,t){return(0,B.jsx)("div",{children:e},t)}))})]}):null,ln,C.connected?(0,B.jsx)(k.Z,{disabled:Pt,loading:ne,type:"submit",className:"border border-v2-lily/20 w-full",children:o.ag._("Start DCA")}):(0,B.jsx)(x.uS,{buttonClassName:"!bg-transparent w-full",overrideContent:(0,B.jsx)(k.Z,{type:"button",className:"border border-v2-lily/20 w-full",children:o.ag._("Connect Wallet")})})]})})}),(0,B.jsxs)("div",{className:"mt-3 w-full flex flex-col justify-center xl:max-w-7xl lg:max-w-[90vw] lg:mx-auto",children:[(0,B.jsx)("div",{className:"w-full max-w-full overflow-hidden",children:(0,B.jsx)("div",{className:"md:flex flex-row justify-between px-5 lg:px-0",children:C.connected?(0,B.jsxs)("div",{className:"flex space-x-2 justify-start items-start overflow-y-auto py-3 lg:py-0",children:[(0,B.jsx)(Be,{title:o.ag._("Active DCAs"),active:"Active DCAs"===Yt,onClick:function(){return zt("Active DCAs")}}),(0,B.jsx)(Be,{title:o.ag._("Past DCAs"),active:"Past DCAs"===Yt,onClick:function(){return zt("Past DCAs")}})]}):null})}),"Active DCAs"===Yt?(0,B.jsx)(G,{dcaClient:T,inputMint:l.targetToken,outputMint:l.targetToken}):(0,B.jsx)(X,{dcaClient:T,inputMint:l.targetToken,outputMint:l.targetToken})]})]}):(0,B.jsx)("div",{className:"w-full h-full flex flex-col items-center justify-between text-lg lg:text-2xl text-v2-lily",children:(0,B.jsxs)("div",{className:"mt-10 md:mt-20 sm:max-w-[90vw] md:w-[460px] w-full z-10",children:[(0,B.jsx)("form",{className:"flex flex-col items-center justify-between w-full",onSubmit:ee(Wt),children:(0,B.jsxs)("div",{className:"w-full bg-white dark:bg-v2-background rounded-2xl p-2 sm:p-4 shadow-swap2-light dark:shadow-swap2-dark",children:[(0,B.jsxs)("div",{className:"flex-col space-y-2 relative",children:[(0,B.jsxs)("div",{className:"flex justify-between items-center",children:[(0,B.jsx)("label",{htmlFor:"fromValue",className:"text-xs md:text-sm font-medium text-black/90 dark:text-white",children:(0,B.jsx)(s.cC,{id:"I want to allocate"})}),(0,B.jsxs)("div",{className:"flex space-x-2",children:[(0,B.jsx)(Te,{control:Y,name:"fromTokenAddress"}),(0,B.jsx)(Me,{setValue:z,control:Y,name:"fromTokenAddress"})]})]}),(0,B.jsx)("div",{className:(0,j.cn)("p-4 h-[72px] border border-transparent relative bg-v2-background-dark rounded-xl flex flex-col space-y-3 group","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:(0,B.jsxs)("div",{className:"flex",children:[(0,B.jsx)(ie,{getValues:$,control:Y,modalId:Fe,name:"fromTokenAddress",mintsList:Ce,type:"tokenAndInput"}),(0,B.jsx)("span",{className:"flex-1 text-right",children:(0,B.jsx)(ye,{control:Y,name:"fromValue"})})]})}),(0,B.jsx)(Ie,{tokenInfo:ze,className:"mt-2"}),(0,B.jsxs)("div",{className:"relative flex justify-center",children:[(0,B.jsx)("hr",{className:"absolute w-full border-jupiter-input-light dark:border-[rgba(25,35,45,0.35)] top-[calc(50%-1px)] -z-0"}),(0,B.jsx)("div",{className:"inline-block z-10",children:(0,B.jsx)("button",{type:"button",className:(0,j.cn)("group/flip bg-[#EBEFF1] dark:bg-v2-background w-8 h-8 rounded-full cursor-pointer flex flex-col justify-center border-[3px] dark:border-[rgba(25,35,45,0.75)] dark:text-white-25","dark:hover:border-v2-primary dark:hover:shadow-swap-input-dark"),onClick:an,children:(0,B.jsx)("span",{className:"w-full text-white/50 fill-current flex justify-center transition-none group-hover/flip:text-v2-primary/50 dark:group-hover/flip:text-v2-primary",children:(0,B.jsx)(be.Z,{})})})})]}),(0,B.jsxs)("div",{className:"flex justify-between items-center",children:[(0,B.jsx)("label",{className:"text-xs md:text-sm font-medium text-black/90 dark:text-white",children:(0,B.jsx)(s.cC,{id:"To buy"})}),(0,B.jsx)("div",{className:"flex",children:(0,B.jsx)(Te,{control:Y,name:"toTokenAddress"})})]}),(0,B.jsx)("div",{className:"h-[72px] border border-[#EFF0F0] dark:border-0 bg-v2-background-dark rounded-xl flex flex-col space-y-3",children:(0,B.jsx)(ie,{getValues:$,control:Y,modalId:Fe,mintsList:Ce,name:"toTokenAddress",type:"tokenSelectOnly"})}),(0,B.jsx)(Ie,{tokenInfo:Ge,className:"mt-2"}),(0,B.jsxs)("div",{className:"flex space-x-2",children:[(0,B.jsxs)("div",{className:"flex flex-col justify-between w-full",children:[(0,B.jsx)("label",{className:"text-xs md:text-sm font-medium text-black/90 dark:text-white",children:(0,B.jsx)(s.cC,{id:"Every (interval)"})}),(0,B.jsx)(c.Qr,{control:Y,name:"intervalNumber",render:function(e){var t=e.field,n=(t.name,t.onChange),r=(t.onBlur,t.value);return(0,B.jsx)("div",{className:(0,j.cn)("h-[54px] mt-2 rounded-xl flex space-x-3 items-center px-2 bg-v2-background-dark","text-sm lg:text-base","group-hover/select:border-v2-active-state group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),children:(0,B.jsx)(u.Z,{className:"w-full py-3 px-4 bg-transparent !outline-none",value:null===r||void 0===r?void 0:r.floatValue,onValueChange:n,thousandSeparator:","===y.A5?".":",",decimalSeparator:","===y.A5?",":".",decimalScale:0,allowNegative:!1,allowLeadingZeros:!1,isAllowed:function(e){var t=e.floatValue;return!t||t<=1e4}})})}})]}),(0,B.jsx)("div",{className:"flex flex-col justify-end w-full",children:(0,B.jsx)(c.Qr,{control:Y,name:"period",render:function(e){var t=e.field,n=(t.name,t.onChange),r=(t.onBlur,t.value);return(0,B.jsx)("div",{className:(0,j.cn)("h-[54px] mt-2 rounded-xl flex space-x-3 items-center px-2 bg-v2-background-dark","text-sm lg:text-base","group-hover/select:border-v2-active-state group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),children:(0,B.jsxs)(N.Z,{onChange:n,className:"!bg-transparent !px-3 !py-1 !text-v2-lily flex justify-between !w-full text-sm",contentClassName:"!w-full",data:tt,value:r,rowRenderer:function(e){return(0,B.jsx)("div",{className:"text-sm",children:e})},children:[r,(0,B.jsx)("div",{className:"ml-auto text-black/25 dark:text-white/25 group-hover/select:text-[#00D1DF] dark:group-hover/select:text-dark-active-state fill-current",children:(0,B.jsx)(w.Z,{})})]})})}})})]}),(0,B.jsxs)("div",{className:"flex flex-col justify-between w-full",children:[(0,B.jsxs)("label",{className:"text-xs md:text-sm font-medium text-black/90 dark:text-white flex justify-between items-center",children:[(0,B.jsx)(s.cC,{id:"Period"}),(0,B.jsx)(we.Z,{content:o.ag._("To minimise the predictability of your DCA strategy, orders are filled within a randomised padding of +/- 26 seconds."),children:(0,B.jsx)("div",{className:"-mt-0.5 md:mt-0 ml-2 text-white/20 fill-current",children:(0,B.jsx)(ve.Z,{width:12,height:12})})})]}),(0,B.jsx)(c.Qr,{control:Y,name:"durationNumber",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,B.jsxs)("div",{className:(0,j.cn)("h-[54px] mt-2 rounded-xl flex space-x-3 items-center px-2 bg-v2-background-dark","text-sm lg:text-base","group-hover/select:border-v2-active-state group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),children:[(0,B.jsx)(u.Z,{className:"w-full py-3 px-4 bg-transparent !outline-none",value:null===r||void 0===r?void 0:r.floatValue,onValueChange:n,thousandSeparator:","===y.A5?".":",",decimalSeparator:","===y.A5?",":".",decimalScale:0,allowNegative:!1,isAllowed:function(e){var t=e.floatValue;return!t||t<=1e4}}),(0,B.jsx)("div",{className:"pr-2 lg:pr-5",children:o.ag._("{selectedPeriodName}(s)",{selectedPeriodName:et})})]})}})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(c.Qr,{control:Y,name:"enableMinMaxPrice",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,B.jsx)(Ne,{value:r,onClick:function(){return n(!r)}})}}),Ue?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("div",{className:"flex space-x-2",children:[(0,B.jsx)("div",{className:"flex flex-col justify-between w-full",children:(0,B.jsx)(c.Qr,{control:Y,name:"minValue",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,B.jsx)("div",{className:(0,j.cn)("h-[54px] mt-2 rounded-xl flex space-x-3 items-center px-2 bg-v2-background-dark","text-sm lg:text-base","group-hover/select:border-v2-active-state group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),children:(0,B.jsx)(ge.Z,{placeholder:o.ag._("Min Price"),className:"w-full py-3 pl-2 bg-transparent !outline-none placeholder:text-sm",value:r.value,onChange:n,decimals:St,isAllowed:function(e){var t=e.floatValue;return!t||t<=ke},allowNegative:!1})})}})}),(0,B.jsx)("div",{className:"mx-2 flex items-end mb-4 text-base text-white/50",children:"~"}),(0,B.jsx)("div",{className:"flex flex-col justify-between w-full",children:(0,B.jsx)(c.Qr,{control:Y,name:"maxValue",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,B.jsx)("div",{className:(0,j.cn)("h-[54px] mt-2 rounded-xl flex space-x-3 items-center px-2 bg-v2-background-dark","text-sm lg:text-base","group-hover/select:border-v2-active-state group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),children:(0,B.jsx)(ge.Z,{className:"w-full py-3 pl-2 bg-transparent !outline-none placeholder:text-sm",value:r.value,onChange:n,placeholder:o.ag._("Max Price"),isAllowed:function(e){var t=e.floatValue;return!t||t<=ke},decimals:St,allowNegative:!1})})}})})]}),(0,B.jsxs)("div",{className:"rounded-lg mt-2 border border-v2-lily/10 p-2 space-y-1",children:[(0,B.jsxs)("div",{className:"text-xs text-white/50 flex items-center justify-between h-4",children:[_t?(0,B.jsxs)("p",{children:[null!==Bt&&void 0!==Bt&&Bt.isFromBase?(0,B.jsx)(s.cC,{id:"Current sell"}):(0,B.jsx)(s.cC,{id:"Current buy"})," ",(0,B.jsx)(s.cC,{id:"{0} rate",values:{0:null===_t||void 0===_t?void 0:_t.symbol}})]}):(0,B.jsx)(pe.O,{className:"h-4 w-2"}),Rt?(0,B.jsx)(pe.O,{className:"!h-3 !w-12"}):Et?(0,B.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,B.jsx)(D.ZP,{value:null!==Bt&&void 0!==Bt&&Bt.isFromBase?new g.Z(1).div(Et.marketRate).toNumber():Et.marketRate.toNumber(),maxSuffix:6}),(0,B.jsx)("span",{children:null!==Bt&&void 0!==Bt&&Bt.isFromBase?"".concat(Mt," / ").concat(Ct):"".concat(Ct," / ").concat(Mt)})]}):"-"]}),!!Ze.floatValue&&(0,B.jsxs)(B.Fragment,{children:[!!He.floatValue&&(0,B.jsxs)("div",{className:"text-xs text-white/50 flex items-center justify-between h-4",children:[(0,B.jsx)("p",{children:(0,B.jsx)(s.cC,{id:"Minimum you get"})}),(0,B.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,B.jsx)(D.ZP,{maxSuffix:6,value:Ze.floatValue/He.floatValue}),(0,B.jsx)("span",{children:Ct})]})]}),!!Ke.floatValue&&(0,B.jsxs)("div",{className:"text-xs text-white/50 flex items-center justify-between h-4",children:[(0,B.jsx)("p",{children:(0,B.jsx)(s.cC,{id:"Maximum you get"})}),(0,B.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,B.jsx)(D.ZP,{maxSuffix:6,value:Ze.floatValue/Ke.floatValue}),(0,B.jsx)("span",{children:Ct})]})]})]})]}),(0,B.jsxs)("div",{className:"mt-5 my-2 py-2 px-4 bg-v2-lily/5 rounded-lg text-xs flex items-center text-white space-x-2 w-full",children:[(0,B.jsx)("div",{className:"h-3 w-3 mt-0.5 fill-white/40",children:(0,B.jsx)(M.Z,{fill:"inherit"})}),(0,B.jsxs)("div",{className:"text-white/40",children:[(0,B.jsx)("p",{children:o.ag._("Your DCA orders will only be placed within your desired price range. Note that DCA will continue to attempt placing orders even after the estimated end date. DCA only stops after all your input tokens are used up. You can, however, choose to cancel your DCA and withdraw all tokens at any time.")}),(0,B.jsx)("p",{className:"mt-2",children:o.ag._("If scheduled orders are not placed due to pricing strategy, they get backlogged, and when prices gets within range, backlogged orders will be placed seconds apart within your desired price range.")}),(0,B.jsx)("p",{children:o.ag._("For e.g. a daily 30 days DCA to buy SOL using USDC at a maximum of price of 70 and price of SOL is > 70 for the first 15 days, there will be no orders the first 15 days and on the 16th day, if price of SOL is 69, 16 (15 + 1) orders will be placed seconds apart and the 17th order will resume to the daily schedule and be placed on the 17th day if price is < 70")})]})]})]}):null,Gt&&(0,B.jsxs)("div",{className:"my-2 py-2 px-4 bg-warning/80 rounded-lg text-xs flex items-center text-white space-x-2 w-full leading-tight",children:[(0,B.jsx)("div",{className:"h-3 w-3 mt-0.5 fill-current",children:(0,B.jsx)(M.Z,{fill:"inherit"})}),(0,B.jsx)("div",{className:"space-y-2",children:(0,B.jsx)("p",{children:(0,B.jsx)(s.cC,{id:"Given the new token's high volatility during its price discovery phase, please exercise caution while trading. You should use <0>pricing strategy</0> to prevent buying or selling at an unfavorable price.",components:{0:(0,B.jsx)("b",{})}})})})]})]})]}),(0,B.jsxs)("div",{className:"flex flex-col items-center justify-center w-full mt-3",children:[Pt&&Zt.length>0?(0,B.jsxs)("div",{className:"mb-4 py-3 pl-2 rounded-lg text-xs flex items-center text-white space-x-2 w-full bg-[#F04A44]",children:[(0,B.jsx)("div",{className:"h-3 w-3 mt-0.5 fill-current",children:(0,B.jsx)(M.Z,{fill:"inherit"})}),(0,B.jsx)("div",{className:"flex flex-col space-y-1",children:Zt.map((function(e,t){return(0,B.jsx)("div",{children:e},t)}))})]}):null,ln,C.connected?(0,B.jsx)(k.Z,{disabled:Pt,loading:ne,type:"submit",className:"border border-v2-lily/20 w-full",children:Tt||At?(0,B.jsx)(s.cC,{id:"Token account frozen"}):o.ag._("Start DCA")}):(0,B.jsx)(x.uS,{buttonClassName:"!bg-transparent w-full",overrideContent:(0,B.jsx)(k.Z,{type:"button",className:"border border-v2-lily/20 w-full",children:o.ag._("Connect Wallet")})})]})]})}),(0,B.jsxs)("div",{className:"mt-3 w-full flex flex-col justify-center xl:max-w-7xl lg:max-w-[90vw] lg:mx-auto",children:[(0,B.jsx)("div",{className:"w-full max-w-full overflow-hidden",children:(0,B.jsx)("div",{className:"md:flex flex-row justify-between px-5 lg:px-0",children:C.connected?(0,B.jsxs)("div",{className:"flex space-x-2 justify-start items-start overflow-y-auto py-3 lg:py-0",children:[(0,B.jsx)(Be,{title:o.ag._("Active DCAs"),active:"Active DCAs"===Yt,onClick:function(){return zt("Active DCAs")}}),(0,B.jsx)(Be,{title:o.ag._("Past DCAs"),active:"Past DCAs"===Yt,onClick:function(){return zt("Past DCAs")}})]}):null})}),"Active DCAs"===Yt?(0,B.jsx)(G,{dcaClient:T}):(0,B.jsx)(X,{dcaClient:T})]})]})})}},26260:function(e,t,n){var r=n(97620),a=n(93981),l=n(30610),i=n(89388),s=n(25546),o=n(29541);t.Z=function(e){var t=e.className,n=e.children,d=e.data,c=e.rowRenderer,u=(e.value,e.onChange),m=e.contentClassName,x=e.rowClassName,f=e.filter,v=e.disabled,h=a.useState(!1),p=(0,r.Z)(h,2),g=p[0],b=p[1],w=a.useState(""),j=(0,r.Z)(w,2),y=j[0],k=j[1],N=(0,s.Nr)(y,150),M=a.useMemo((function(){return f&&N?f(d,N):d}),[d,N,f]);return(0,o.jsx)(l.Z,{isOpen:g,onClose:function(){return b(!1)},id:"settings-button",placement:"bottom-start",matchWidth:!0,buttonContent:(0,o.jsx)("button",{type:"button",onClick:function(){return b((function(e){return!e}))},className:(0,i.cn)("flex items-center py-3 pl-4 pr-5 space-x-2 rounded-lg bg-jupiter-light dark:bg-white/10 text-white/75",t),disabled:v,children:n}),buttonContentClassName:"!w-full",popoverContent:(0,o.jsxs)("div",{className:"mt-1 bg-jupiter-light rounded-lg dark:bg-white/10",children:[f?(0,o.jsx)("div",{className:"sticky top-0 flex",children:(0,o.jsx)("input",{placeholder:"Search...",className:"w-full py-2 px-4 bg-v2-background-dark text-white text-sm !outline-none",value:y,onChange:function(e){return k(e.target.value)}})}):null,M.map((function(e,t){return(0,o.jsx)("button",{onClick:function(){u(e),b(!1)},className:(0,i.cn)("first:pt-3 last:pb-3 w-full flex items-center py-1.5 pl-4 pr-3 space-x-2 text-white/75 hover:bg-porcelain dark:hover:bg-shark",x),children:c(e)},t)}))]}),contentClassName:(0,i.cn)("!bg-transparent !shadow-none z-50 webkit-scrollbar",m)})}},82625:function(e,t,n){var r=n(670),a=n(89388),l=n(93981),i=n(71048),s=n(54566),o=n(29541);t.Z=function(e){var t=e.control,n=e.name,d=(0,r.Bn)().tokenMap,c=(0,i.qo)({control:t,name:n}),u=(0,i.qo)({control:t,name:"fromValue"===n?"fromTokenAddress":"toTokenAddress"}),m=l.useMemo((function(){return d.get(u)}),[d,u]);return(0,o.jsx)(o.Fragment,{children:c?(0,o.jsx)("div",{className:(0,a.cn)("text-xs text-black/40 dark:text-white-25 font-medium"),children:m&&(0,o.jsx)(s.default,{tokenInfo:m,amount:Number(c.floatValue)})}):null})}},1242:function(e,t,n){n.d(t,{AI:function(){return l},E6:function(){return a},er:function(){return s},mw:function(){return i}});var r=n(11805),a=(r.env.NEXT_PUBLIC_INTERNAL_TEST,{mint:"UxxvnMnUGoXJig9wc8phE1mYJZMFq3hpfr259zMWcq4",symbol:"mockUSDC"}),l="JAA2bkW7RH3RL9Akr2yE7oHjZDuYGaWddbUzMyLdnq8i",i="JxxWsvm9jHt4ah7DT9NuLyVLYZcZLUdPD93PcPQ71Ka",s=(r.env.NEXT_PUBLIC_INTERNAL_TEST,{symbol:"mockJUP",mint:i})},41118:function(e,t,n){n.d(t,{d:function(){return r}});var r=Object.freeze(["EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB","So11111111111111111111111111111111111111112"])},89715:function(e,t,n){n.d(t,{b:function(){return o}});var r=n(93981),a=n(670),l=n(41118),i=n(50438),s={decimals:6,address:"",chainId:101,name:"",symbol:""},o=function(e,t){var n,o,d=(0,a.y6)(),c=d.tokenPriceMap,u=d.getUSDValue,m=d.isLatest,x=(0,a.Bn)().getTokenInfo,f=(0,r.useMemo)((function(){return l.d.find((function(n){return n===(null===e||void 0===e?void 0:e.address)||n===(null===t||void 0===t?void 0:t.address)}))}),[null===e||void 0===e?void 0:e.address,null===t||void 0===t?void 0:t.address]),v=(0,r.useMemo)((function(){return f?x(f):e}),[f,x,e]),h=(0,r.useMemo)((function(){return f?[e,t].find((function(e){return(null===e||void 0===e?void 0:e.address)!==(null===v||void 0===v?void 0:v.address)})):t}),[v,null===e||void 0===e?void 0:e.address,null===t||void 0===t?void 0:t.address]),p=(0,r.useMemo)((function(){var e;if(h)return null===(e=c[h.address])||void 0===e?void 0:e.usd}),[h,c[null!==(n=null===h||void 0===h?void 0:h.address)&&void 0!==n?n:s.address]]),g=(0,r.useMemo)((function(){var e;if(v)return null===(e=c[v.address])||void 0===e?void 0:e.usd}),[v,c[null!==(o=null===v||void 0===v?void 0:v.address)&&void 0!==o?o:null===s||void 0===s?void 0:s.address]]),b=(0,i.Z)({quoteTokenInfo:v,baseTokenInfo:h,quoteTokenPrice:g,baseTokenPrice:p}).rateDecimals;return(0,r.useEffect)((function(){!e||!t||g&&p||u([e.address,t.address])}),[u,e,t,g,p]),{quoteTokenInfo:v,baseTokenInfo:h,baseTokenPrice:p,quoteTokenPrice:g,rateDecimals:b,priceFetched:m}}},23632:function(e,t,n){n.d(t,{s:function(){return u}});var r=n(27195),a=n(8857),l=n.n(a),i=n(670),s=n(45009),o=n(13838),d=n(93981),c=n(25546),u=function(e){var t=e.quoteTokenInfo,n=e.baseTokenInfo,a=e.quoteTokenPrice,i=e.baseTokenPrice,d=e.isBaseQuoteMode,u=e.rateDecimals,x=e.isSubmitting,f=m().fetchPrice,v=(0,c.Nr)([null===t||void 0===t?void 0:t.address,null===n||void 0===n?void 0:n.address,i,a,null===d||void 0===d?void 0:d.isFromBase].join(""),200),h=(0,s.a)([v],(0,r.Z)(l().mark((function e(){var r,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a&&i&&t&&n){e.next=3;break}return e.abrupt("return",null);case 3:return r=null!==d&&void 0!==d&&d.isFromBase?{fromTokenInfo:t,toTokenInfo:n,amount:new o.Z(1).div(a).mul(Math.pow(10,t.decimals)).toFixed(0),decimals:u}:{fromTokenInfo:n,toTokenInfo:t,amount:new o.Z(1).div(i).mul(Math.pow(10,n.decimals)).toFixed(0),decimals:u},e.next=6,f(r);case 6:if(s=e.sent,c=s.marketRate,null===d||void 0===d||!d.isFromBase){e.next=12;break}return e.abrupt("return",c);case 12:return e.abrupt("return",new o.Z(1).div(c));case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[0,15]])}))),x?{enabled:!1,keepPreviousData:!0}:{enabled:Boolean((null===t||void 0===t?void 0:t.address)&&(null===n||void 0===n?void 0:n.address)&&i&&a),refetchInterval:2e4,retry:3,retryDelay:1e3}),p=h.data,g=h.isFetching;return{swapMarketPrice:g?null:p,lastMarketPrice:p,isFetching:g,isFetched:h.isFetched}},m=function(){var e=(0,i.MG)().constants.JUPITER_QUOTE_API_URL,t=(0,d.useCallback)(function(){var t=(0,r.Z)(l().mark((function t(n){var r,a,i,s,d,c,u,m,x,f;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.fromTokenInfo,a=n.toTokenInfo,i=n.amount,s=n.decimals,d={inputMint:r.address.toString(),outputMint:a.address.toString(),amount:i,slippageBps:"0",quoteType:"bellman-ford"},t.next=4,fetch("".concat(e,"/quote?").concat(new URLSearchParams(d).toString()));case 4:return c=t.sent,t.next=7,c.json();case 7:if(u=t.sent,m=new o.Z(u.inAmount.toString()).div(Math.pow(10,r.decimals)),x=new o.Z(u.outAmount.toString()).div(Math.pow(10,a.decimals)),f=new o.Z(m).div(x),!s){t.next=15;break}return t.abrupt("return",{marketRate:f.toDP(s),priceImpactPct:100*Number(u.priceImpactPct)});case 15:return t.abrupt("return",{marketRate:f,priceImpactPct:100*Number(u.priceImpactPct)});case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]);return{fetchPrice:t}};t.Z=m},50438:function(e,t,n){var r=n(13838),a=n(93981);t.Z=function(e){var t=e.quoteTokenInfo,n=e.baseTokenInfo,l=e.quoteTokenPrice,i=e.baseTokenPrice;return{rateDecimals:(0,a.useMemo)((function(){if(!t||!n)return 0;if(!l||!i)return 16;var e=r.Z.ceil(new r.Z(-1).mul(r.Z.log10(new r.Z(l).div(i)))).add(5),a=r.Z.ceil(new r.Z(-1).mul(r.Z.log10(new r.Z(i).div(l)))).add(5);return r.Z.max(r.Z.max(e,a),r.Z.max(t.decimals,n.decimals)).toNumber()}),[l,i,n,t])}}},89521:function(e,t,n){var r=n(97620),a=n(93981),l=n(87148),i=n(3082),s=n(670),o=n(88680),d=n(79877);t.Z=function(){var e,t=(0,i.useRouter)(),n=(0,l.Z)(null===t||void 0===t||null===(e=t.query)||void 0===e?void 0:e.inAmount),c=(0,o._)(d.J,null),u=(0,r.Z)(c,1)[0],m=(0,s.MG)().constants.MAX_INPUT_LIMIT;return(0,a.useMemo)((function(){var e,r;if(null===t||void 0===t||null===(e=t.query)||void 0===e||!e.inAmount)return"";if(n===(null===t||void 0===t||null===(r=t.query)||void 0===r?void 0:r.inAmount))return"";var a=Number(t.query.inAmount||0);return u&&!t.asPath.includes("inAmount")?"":a>0&&!Number.isNaN(a)&&a<m?a.toString():(t.replace({pathname:window.location.pathname},void 0,{scroll:!1,shallow:!0}),"")}),[t.query])}},45462:function(e,t,n){n(93981);var r=n(29541);t.Z=function(e){var t=e.width,n=void 0===t?25:t,a=e.height,l=void 0===a?21:a;return(0,r.jsx)("svg",{width:n,height:l,viewBox:"0 0 25 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M23.9339 9.08485L16.0326 1.18357C15.6735 0.80576 15.1766 0.589184 14.6554 0.581696C14.1341 0.575134 13.6326 0.779509 13.2632 1.14795C12.8948 1.5164 12.6904 2.01795 12.696 2.53921C12.7026 3.0614 12.9191 3.55734 13.2969 3.91734L17.9676 8.58054H2.43406C1.36626 8.58054 0.5 9.44679 0.5 10.5146C0.5 11.5833 1.36626 12.4496 2.43406 12.4496H17.9244L13.2969 17.0838C12.5741 17.845 12.5891 19.0431 13.3316 19.7847C14.0741 20.5263 15.2732 20.5413 16.0326 19.8175L23.9339 11.9163C24.2976 11.5544 24.502 11.0622 24.5001 10.5484C24.5011 10.5325 24.5011 10.5166 24.5001 10.5006C24.5011 10.4847 24.5011 10.4688 24.5001 10.4528C24.5001 9.94001 24.2967 9.44782 23.9339 9.08501L23.9339 9.08485Z",fill:"currentColor"})})}},71932:function(e,t,n){var r=n(63956),a=n(54423),l=(n(93981),n(29541)),i=["width","height"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.width,n=void 0===t?"12":t,r=e.height,s=void 0===r?"12":r,d=(0,a.Z)(e,i);return(0,l.jsx)("svg",o(o({width:n,height:s,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d),{},{children:(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10ZM9.93793 12.1728C9.47107 12.1733 9.08835 11.8037 9.07186 11.3372L8.86888 5.61643C8.86042 5.3813 8.94838 5.15338 9.11162 4.98422C9.27485 4.81507 9.49982 4.71992 9.73494 4.71992H10.1409C10.376 4.71992 10.601 4.81507 10.7642 4.98422C10.9275 5.15338 11.0154 5.38131 11.007 5.61643L10.804 11.3372C10.7875 11.8037 10.4048 12.1733 9.93793 12.1728ZM9.93783 15.4176C10.6106 15.4176 11.1557 14.8725 11.1557 14.1997C11.1557 13.5269 10.6106 12.9818 9.93783 12.9818C9.26502 12.9818 8.71992 13.5269 8.71992 14.1997C8.71992 14.8725 9.26502 15.4176 9.93783 15.4176Z",fill:"currentColor"})}))}},49839:function(e,t,n){n.d(t,{P:function(){return u},y:function(){return m}});var r=n(27195),a=n(97620),l=n(8857),i=n.n(l),s=n(3011),o=n(9364),d=n(45009),c=n(93981);function u(){var e=(0,s.KO)(m),t=(0,a.Z)(e,2),n=(t[0],t[1]),l=(0,d.a)(["jup-claim-market-reference"],(0,r.Z)(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cache.jup.ag/jup-claim-reference-fees");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),{refetchInterval:5e3,refetchIntervalInBackground:!1,keepPreviousData:!0}),o=l.data,u=l.isLoading;(0,c.useEffect)((function(){if(o&&!u){var e=Date.now()-o.lastUpdatedAt>6e4;n({claim:Math.round(o.claim),swapFee:Math.round(o.swapFee),loAndDCA:Math.round(o.loAndDCA),isOutdated:e})}}),[n,o,u])}var m=(0,o.cn)({swapFee:null,loAndDCA:null,claim:null,isOutdated:!1})}}]);
//# sourceMappingURL=9631-7d6bca4e131ef552.js.map